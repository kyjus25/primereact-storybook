import{r as o}from"./index-76fb7be0.js";import{P as Oe,l as te,D as j,c as R,b as M,O as K,Z as J,m as P,I as Se}from"./api.esm-2e2d159c.js";import{B as ne}from"./button.esm-8a5b9c29.js";import{C as Ce,u as Ne}from"./componentbase.esm-b0caea1e.js";import{C as Le}from"./csstransition.esm-653f5084.js";import{h as Ie,e as Re,f as Te}from"./hooks.esm-c93f10ee.js";import{O}from"./overlayservice.esm-07429284.js";import{P as _e}from"./portal.esm-c66f0cf3.js";import"./_commonjsHelpers-de833af9.js";import"./index.esm-a9455747.js";import"./iconbase.esm-439d6f79.js";import"./ripple.esm-cba91116.js";import"./tooltip.esm-ca4db4c1.js";import"./inheritsLoose-9eefaa95.js";import"./index-d3ea75b5.js";function X(){return X=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},X.apply(this,arguments)}function ke(n){if(Array.isArray(n))return n}function Be(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,y,v,u,h=[],m=!0,g=!1;try{if(v=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;m=!1}else for(;!(m=(r=v.call(t)).done)&&(h.push(r.value),h.length!==e);m=!0);}catch(c){g=!0,y=c}finally{try{if(!m&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(g)throw y}}return h}}function re(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function De(n,e){if(n){if(typeof n=="string")return re(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return re(n,e)}}function Ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(n,e){return ke(n)||Be(n,e)||De(n,e)||Ue()}function T(n){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(n)}function Ve(n,e){if(T(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(T(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ae(n){var e=Ve(n,"string");return T(e)==="symbol"?e:String(e)}function Ke(n,e,t){return e=Ae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var ze=`
@layer primereact {
    .p-confirm-popup-flipped {
        margin-top: 0;
        margin-bottom: 10px;
    }
    
    .p-confirm-popup:after, .p-confirm-popup:before {
        bottom: 100%;
        left: calc(var(--overlayArrowLeft, 0) + 1.25rem);
        content: " ";
        height: 0;
        width: 0;
        position: absolute;
        pointer-events: none;
    }
    
    .p-confirm-popup:after {
        border-width: 8px;
        margin-left: -8px;
    }
    
    .p-confirm-popup:before {
        border-width: 10px;
        margin-left: -10px;
    }
    
    .p-confirm-popup-flipped:after, .p-confirm-popup-flipped:before {
        bottom: auto;
        top: 100%;
    }
    
    .p-confirm-popup.p-confirm-popup-flipped:after {
        border-bottom-color: transparent;
    }
    
    .p-confirm-popup.p-confirm-popup-flipped:before {
        border-bottom-color: transparent
    }
    
    .p-confirm-popup .p-confirm-popup-content {
        display: flex;
        align-items: center;
    }
}
`,Me={root:function(e){var t=e.context,r=e.getPropValue;return R("p-confirm-popup p-component",r("className"),{"p-input-filled":t&&t.inputStyle==="filled"||M.inputStyle==="filled","p-ripple-disabled":t&&t.ripple===!1||M.ripple===!1})},acceptButton:function(e){var t=e.getPropValue;return R("p-confirm-popup-accept p-button-sm",t("acceptClassName"))},rejectButton:function(e){var t=e.getPropValue;return R("p-confirm-popup-reject p-button-sm",{"p-button-text":!t("rejectClassName")},t("rejectClassName"))},content:"p-confirm-popup-content",icon:"p-confirm-popup-icon",message:"p-confirm-popup-message",footer:"p-confirm-popup-footer",transition:"p-connected-overlay"},V=Ce.extend({defaultProps:{__TYPE:"ConfirmPopup",tagKey:void 0,target:null,visible:!1,message:null,rejectLabel:null,acceptLabel:null,icon:null,rejectIcon:null,acceptIcon:null,rejectClassName:null,acceptClassName:null,className:null,style:null,appendTo:null,dismissable:!0,footer:null,onShow:null,onHide:null,accept:null,reject:null,transitionOptions:null,children:void 0,closeOnEscape:!0},css:{classes:Me,styles:ze}}),ie=function(e){var t=o.useRef(void 0);return o.useEffect(function(){t.current=e}),t.current},$e=function(e){return o.useEffect(function(){return e},[])},He=function(e){var t=e.target,r=t===void 0?"document":t,y=e.type,v=e.listener,u=e.options,h=e.when,m=h===void 0?!0:h,g=o.useRef(null),c=o.useRef(null),_=ie(v),N=ie(u),S=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};K.isNotEmpty(C.target)&&(d(),(C.when||m)&&(g.current=j.getTargetElement(C.target))),!c.current&&g.current&&(c.current=function(l){return v&&v(l)},g.current.addEventListener(y,c.current,u))},d=function(){c.current&&(g.current.removeEventListener(y,c.current,u),c.current=null)};return o.useEffect(function(){m?g.current=j.getTargetElement(r):(d(),g.current=null)},[r,m]),o.useEffect(function(){c.current&&(""+_!=""+v||N!==u)&&(d(),m&&S())},[v,u,m]),$e(function(){d()}),[S,d]},Fe=function(e,t,r){var y=function(c){(c.key==="Esc"||c.key==="Escape")&&(c.stopImmediatePropagation(),r(c))},v=He({type:"keydown",listener:y}),u=z(v,2),h=u[0],m=u[1];return o.useEffect(function(){if(t&&e.current)return h(),function(){m()}}),[e,r]};function oe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(y){return Object.getOwnPropertyDescriptor(n,y).enumerable})),t.push.apply(t,r)}return t}function Ze(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oe(Object(t),!0).forEach(function(r){Ke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oe(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var le=o.memo(o.forwardRef(function(n,e){var t=o.useContext(Oe),r=V.getProps(n,t),y=o.useState(r.visible),v=z(y,2),u=v[0],h=v[1],m=o.useState(!1),g=z(m,2),c=g[0],_=g[1],N={props:r,state:{visible:u,reshow:c}},S=V.setMetaData(N),d=S.ptm,w=S.cx,C=S.isUnstyled;Ne(V.css.styles,C,{name:"confirmpopup"});var l=o.useRef(null),$=o.useRef(null),L=o.useRef(!1),x=o.useRef(null),k=o.useRef(null),H=o.useRef(null),I=o.useRef(!1),W=function(){return k.current||r},p=function(i){return(k.current||r)[i]},B=function(i){for(var s=arguments.length,f=new Array(s>1?s-1:0),b=1;b<s;b++)f[b-1]=arguments[b];return K.getPropValue(p(i),f)},q=p("acceptLabel")||te("accept"),Y=p("rejectLabel")||te("reject");Fe(l,r.dismissable&&r.closeOnEscape,function(a){E("hide")});var se=Ie({target:p("target"),overlay:l,listener:function(i,s){var f=s.type,b=s.valid;b&&(f==="outside"?r.dismissable&&!L.current&&E("hide"):E("hide")),L.current=!1},when:u}),G=z(se,2),ue=G[0],fe=G[1],me=function(i){L.current=!0,O.emit("overlay-click",{originalEvent:i,target:p("target")})},Q=function(){I.current||(I.current=!0,B("accept"),E("accept"))},ee=function(){I.current||(I.current=!0,B("reject"),E("reject"))},F=function(){H.current=document.activeElement,h(!0),_(!1),I.current=!1,x.current=function(i){!he(i.target)&&(L.current=!0)},O.on("overlay-click",x.current)},E=function(i){h(!1),O.off("overlay-click",x.current),x.current=null,i&&B("onHide",i),j.focus(H.current),H.current=null},de=function(){J.set("overlay",l.current,t&&t.autoZIndex||M.autoZIndex,t&&t.zIndex.overlay||M.zIndex.overlay),j.addStyles(l.current,{position:"absolute",top:"50%",left:"50%",marginTop:"10px"}),ye()},ve=function(){ue(),$.current&&$.current.focus(),B("onShow")},ge=function(){fe()},be=function(){J.clear(l.current),L.current=!1},ye=function(){if(p("target")){j.absolutePosition(l.current,p("target"));var i=j.getOffset(l.current),s=j.getOffset(p("target")),f=0;i.left<s.left&&(f=s.left-i.left),l.current.style.setProperty("--overlayArrowLeft","".concat(f,"px")),i.top<s.top&&!C()&&j.addClass(l.current,"p-confirm-popup-flipped")}},he=function(i){return l&&l.current&&!(l.current.isSameNode(i)||l.current.contains(i))},D=function(i){if(i.tagKey===r.tagKey){var s=u!==i.visible,f=p("target")!==i.target;f&&!r.target?(E(),k.current=i,_(!0)):s&&(k.current=i,i.visible?F():E())}};o.useEffect(function(){r.visible?F():E()},[r.visible]),o.useEffect(function(){return!r.target&&!r.message&&O.on("confirm-popup",D),function(){O.off("confirm-popup",D)}},[r.target]),Re(function(){c&&F()},[c]),Te(function(){x.current&&(O.off("overlay-click",x.current),x.current=null),O.off("confirm-popup",D),J.clear(l.current)}),o.useImperativeHandle(e,function(){return{props:r,confirm:D}});var we=function(){var i=W(),s=K.getJSXElement(p("message"),i),f=P({className:w("icon")},d("icon")),b=Se.getJSXIcon(p("icon"),Ze({},f),{props:i}),Z=P({className:w("message")},d("message")),U=P({className:w("content")},d("content"));return o.createElement("div",U,b,o.createElement("span",Z,s))},Ee=function(){var i=R("p-confirm-popup-accept p-button-sm",p("acceptClassName")),s=R("p-confirm-popup-reject p-button-sm",{"p-button-text":!p("rejectClassName")},p("rejectClassName")),f=P({className:w("footer")},d("footer")),b=P({label:Y,icon:p("rejectIcon"),className:w("rejectButton",{getPropValue:p}),onClick:ee,pt:d("rejectButton"),unstyled:r.unstyled,__parentMetadata:{parent:N}}),Z=P({ref:$,label:q,icon:p("acceptIcon"),className:w("acceptButton",{getPropValue:p}),onClick:Q,pt:d("acceptButton"),unstyled:r.unstyled,__parentMetadata:{parent:N}}),U=o.createElement("div",f,o.createElement(ne,b),o.createElement(ne,Z));if(p("footer")){var xe={accept:Q,reject:ee,className:"p-confirm-popup-footer",acceptClassName:i,rejectClassName:s,acceptLabel:q,rejectLabel:Y,element:U,props:W()};return K.getJSXElement(p("footer"),xe)}return U},Pe=function(){var i=we(),s=Ee(),f=P({ref:l,id:p("id"),className:w("root",{context:t,getPropValue:p}),style:p("style"),onClick:me},V.getOtherProps(r),d("root")),b=P({classNames:w("transition"),in:u,timeout:{enter:120,exit:100},options:p("transitionOptions"),unmountOnExit:!0,onEnter:de,onEntered:ve,onExit:ge,onExited:be},d("transition"));return o.createElement(Le,X({nodeRef:l},b),o.createElement("div",f,i,s))},je=Pe();return o.createElement(_e,{element:je,appendTo:p("appendTo"),visible:p("visible")})}));le.displayName="ConfirmPopup";const ct={title:"Overlay/ConfirmPopup",component:le,parameters:{layout:"centered"},argTypes:{acceptClassName:{control:"text",description:"Style class of the accept button.",options:null},acceptIcon:{control:"select",description:"Icon of the accept button.",options:["pi pi-angledoubledown","pi pi-angledoubleleft","pi pi-angledoubleright","pi pi-angledoubleup","pi pi-angledown","pi pi-angleleft","pi pi-angleright","pi pi-angleup","pi pi-arrowdown","pi pi-arrowup","pi pi-ban","pi pi-bars","pi pi-calendar","pi pi-check","pi pi-chevrondown","pi pi-chevronleft","pi pi-chevronright","pi pi-chevronup","pi pi-download","pi pi-exclamationtriangle","pi pi-eye","pi pi-eyeslash","pi pi-filter","pi pi-filterslash","pi pi-infocircle","pi pi-minus","pi pi-pencil","pi pi-plus","pi pi-refresh","pi pi-search","pi pi-searchminus","pi pi-searchplus","pi pi-sortalt","pi pi-sortamountdown","pi pi-sortamountupalt","pi pi-spinner","pi pi-star","pi pi-starfill","pi pi-thlarge","pi pi-times","pi pi-timescircle","pi pi-trash","pi pi-undo","pi pi-upload","pi pi-windowmaximize","pi pi-windowminimize"]},acceptLabel:{control:"text",description:"Label of the accept button.",options:null},appendTo:{control:"select",description:"DOM element instance where the overlay panel should be mounted. Valid values are any DOM Element and 'self'. The self value is used to render a component where it is located.",options:["null","HTMLElement","self"]},children:{control:"text",description:"Used to get the child elements of the component.",options:null},className:{control:"text",description:"Style class of the element.",options:null},closeOnEscape:{control:"boolean",description:"Specifies if pressing escape key should hide the popup.",options:null},dismissable:{control:"boolean",description:"Enables to hide the popup when outside is clicked.",options:null},footer:{control:"text",description:"Footer content of the confirm popup.",options:null},icon:{control:"select",description:"Icon to display next to the message.",options:["pi pi-angledoubledown","pi pi-angledoubleleft","pi pi-angledoubleright","pi pi-angledoubleup","pi pi-angledown","pi pi-angleleft","pi pi-angleright","pi pi-angleup","pi pi-arrowdown","pi pi-arrowup","pi pi-ban","pi pi-bars","pi pi-calendar","pi pi-check","pi pi-chevrondown","pi pi-chevronleft","pi pi-chevronright","pi pi-chevronup","pi pi-download","pi pi-exclamationtriangle","pi pi-eye","pi pi-eyeslash","pi pi-filter","pi pi-filterslash","pi pi-infocircle","pi pi-minus","pi pi-pencil","pi pi-plus","pi pi-refresh","pi pi-search","pi pi-searchminus","pi pi-searchplus","pi pi-sortalt","pi pi-sortamountdown","pi pi-sortamountupalt","pi pi-spinner","pi pi-star","pi pi-starfill","pi pi-thlarge","pi pi-times","pi pi-timescircle","pi pi-trash","pi pi-undo","pi pi-upload","pi pi-windowmaximize","pi pi-windowminimize"]},message:{control:"text",description:"Message of the confirmation.",options:null},pt:{control:"object",description:"Uses to pass attributes to DOM elements inside the component.",options:null},ptOptions:{control:"object",description:"Used to configure passthrough(pt) options of the component.",options:null},rejectClassName:{control:"text",description:"Style class of the reject button.",options:null},rejectIcon:{control:"select",description:"Icon of the reject button.",options:["pi pi-angledoubledown","pi pi-angledoubleleft","pi pi-angledoubleright","pi pi-angledoubleup","pi pi-angledown","pi pi-angleleft","pi pi-angleright","pi pi-angleup","pi pi-arrowdown","pi pi-arrowup","pi pi-ban","pi pi-bars","pi pi-calendar","pi pi-check","pi pi-chevrondown","pi pi-chevronleft","pi pi-chevronright","pi pi-chevronup","pi pi-download","pi pi-exclamationtriangle","pi pi-eye","pi pi-eyeslash","pi pi-filter","pi pi-filterslash","pi pi-infocircle","pi pi-minus","pi pi-pencil","pi pi-plus","pi pi-refresh","pi pi-search","pi pi-searchminus","pi pi-searchplus","pi pi-sortalt","pi pi-sortamountdown","pi pi-sortamountupalt","pi pi-spinner","pi pi-star","pi pi-starfill","pi pi-thlarge","pi pi-times","pi pi-timescircle","pi pi-trash","pi pi-undo","pi pi-upload","pi pi-windowmaximize","pi pi-windowminimize"]},rejectLabel:{control:"text",description:"Label of the reject button.",options:null},style:{control:"object",description:"Inline style of the element.",options:null},tagKey:{control:"text",description:"Unique tag key used to separate the confirmPopup components in the page.",options:null},target:{control:"object",description:"Target element to align the popup.",options:null},transitionOptions:{control:"object",description:'The properties of CSSTransition can be customized, except for "nodeRef" and "in" properties.',options:null},unstyled:{control:"boolean",description:"When enabled, it removes component related styles in the core.",options:null},visible:{control:"boolean",description:"Specifies the visibility of the confirm popup.",options:null}}},A={args:{unstyled:!1}};var pe,ae,ce;A.parameters={...A.parameters,docs:{...(pe=A.parameters)==null?void 0:pe.docs,source:{originalSource:`{
  args: {
    "unstyled": false
  }
}`,...(ce=(ae=A.parameters)==null?void 0:ae.docs)==null?void 0:ce.source}}};const lt=["Default"];export{A as Default,lt as __namedExportsOrder,ct as default};
//# sourceMappingURL=ConfirmPopup.stories-23f730dd.js.map
