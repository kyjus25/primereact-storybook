import{r as a}from"./index-76fb7be0.js";import{a as ee,c as N,O as A,l as te}from"./api.esm-4644ee78.js";import{C as re,u as ne}from"./componentbase.esm-1c796d7e.js";import{d as oe,a as ae,b as R,c as le}from"./hooks.esm-d069ba29.js";import"./_commonjsHelpers-de833af9.js";function D(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,f=new Array(n);r<n;r++)f[r]=e[r];return f}function se(e){if(Array.isArray(e))return D(e)}function ce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O(e,n){if(e){if(typeof e=="string")return D(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,n)}}function ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(e){return se(e)||ce(e)||O(e)||ie()}function ue(e){if(Array.isArray(e))return e}function de(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var f,t,w,h,g=[],u=!0,p=!1;try{if(w=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(f=w.call(r)).done)&&(g.push(f.value),g.length!==n);u=!0);}catch(c){p=!0,t=c}finally{try{if(!u&&r.return!=null&&(h=r.return(),Object(h)!==h))return}finally{if(p)throw t}}return g}}function fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pe(e,n){return ue(e)||de(e,n)||O(e,n)||fe()}var me={header:"p-datascroller-header",footer:"p-datascroller-footer",content:"p-datascroller-content",list:"p-datascroller-list",root:function(n){var r=n.props;return N("p-datascroller p-component",{"p-datascroller-inline":r.inline})}},ye=`
@layer primereact {
    .p-datascroller .p-datascroller-header {
        text-align: center;
        padding: .5em .75em;
        border-bottom: 0 none;
    }
    
    .p-datascroller .p-datascroller-footer {
        text-align: center;
        padding: .25em .625em;
        border-top: 0px none;
    }
    
    .p-datascroller .p-datascroller-content {
        padding: .25em .625em;
    }
    
    .p-datascroller-inline .p-datascroller-content {
        overflow: auto;
    }
    
    .p-datascroller .p-datascroller-list {
        list-style-type: none; 
        margin: 0;
        padding: 0;
    }
}
`,ve={content:function(n){var r=n.props;return{maxHeight:r.scrollHeight}}},H=re.extend({defaultProps:{__TYPE:"DataScroller",id:null,value:null,rows:0,inline:!1,scrollHeight:null,loader:!1,buffer:.9,style:null,className:null,onLazyLoad:null,emptyMessage:null,itemTemplate:null,header:null,footer:null,lazy:!1,children:void 0},css:{classes:me,styles:ye,inlineStyles:ve}}),j=a.memo(a.forwardRef(function(e,n){var r=oe(),f=a.useContext(ee),t=H.getProps(e,f),w=a.useState([]),h=pe(w,2),g=h[0],u=h[1],p=H.setMetaData({props:t}),c=p.ptm,E=p.cx,I=p.sx,U=p.isUnstyled;ne(H.css.styles,U,{name:"datascroller"});var _=a.useRef(null),d=a.useRef(null),b=a.useRef(t.value),m=a.useRef([]),y=a.useRef(0),i=a.useRef(null),B=function(){t.lazy?(m.current=b.current,u(T(m.current))):S()},S=function(){if(t.lazy)t.onLazyLoad&&t.onLazyLoad(k()),y.current+=t.rows;else if(b.current){for(var o=y.current;o<y.current+t.rows&&!(o>=b.current.length);o++)m.current.push(b.current[o]);b.current.length!==0&&(y.current+=t.rows),u(T(m.current))}},$=function(){y.current=0,m.current=[],u(T(m.current)),S()},k=function(){return{first:y.current,rows:t.rows}},F=function(){t.inline?(i.current=function(){var o=d.current.scrollTop,s=d.current.scrollHeight,v=d.current.clientHeight;o>=s*t.buffer-v&&S()},d.current.addEventListener("scroll",i.current)):(i.current=function(){var o=document.body,s=document.documentElement,v=window.pageYOffset||document.documentElement.scrollTop,x=s.clientHeight,Z=Math.max(o.scrollHeight,o.offsetHeight,x,s.scrollHeight,s.offsetHeight);v>=Z*t.buffer-x&&S()},window.addEventListener("scroll",i.current))},M=function(){i.current&&(t.inline&&d.current?d.current.removeEventListener("scroll",i.current):t.loader||window.removeEventListener("scroll",i.current)),i.current=null};ae(function(){S(),t.loader||F()}),R(function(){t.value&&(b.current=t.value,t.lazy||(y.current=0),m.current=[],B())},[t.value]),R(function(){t.loader&&M()},[t.loader]),le(function(){i.current&&M()}),a.useImperativeHandle(n,function(){return{props:t,load:S,reset:$,getElement:function(){return _.current},getContent:function(){return d.current}}});var W=function(){var o=r({className:E("header")},c("header"));return t.header?a.createElement("div",o,t.header):null},Y=function(){var o=r({className:E("footer")},c("footer"));return t.footer?a.createElement("div",o,t.footer):null},J=function(o,s){var v=r({key:s+"_datascrollitem"},c("item")),x=t.itemTemplate?t.itemTemplate(o):o;return a.createElement("li",v,x)},X=function(){var o=r(c("emptyMessage")),s=A.getJSXElement(t.emptyMessage,t)||te("emptyMessage");return a.createElement("li",o,s)},q=function(){var o=r({ref:d,className:E("content"),style:I("content")},c("content")),s=r({className:E("list")},c("list")),v=A.isNotEmpty(g)?g.map(J):X();return a.createElement("div",o,a.createElement("ul",s,v))},G=W(),K=Y(),Q=q(),V=r({id:t.id,ref:_,className:N(t.className,E("root"))},H.getOtherProps(t),c("root"));return a.createElement("div",V,G,Q,K)}));j.displayName="DataScroller";const we={title:"Data/DataScroller",component:j,parameters:{layout:"centered"},argTypes:{buffer:{control:"number",description:"Number of buffer size.",options:null},children:{control:"text",description:"Used to get the child elements of the component.",options:null},emptyMessage:{control:"text",description:"Text to display when there is no data.",options:null},footer:{control:"text",description:"Label of footer.",options:null},header:{control:"text",description:"Label of header.",options:null},inline:{control:"boolean",description:"Defines if the event target to listen the scroll event is the element itself.",options:null},lazy:{control:"boolean",description:"Defines if data is loaded and interacted with in lazy manner.",options:null},loader:{control:"boolean",description:"Determines whether data is loaded by a target element.",options:null},pt:{control:"object",description:"Uses to pass attributes to DOM elements inside the component.",options:null},ptOptions:{control:"object",description:"Used to configure passthrough(pt) options of the component.",options:null},rows:{control:"number",description:"Number of rows to fetch in a load event.",options:null},scrollHeight:{control:"text",description:"Max height of the content area in inline mode.",options:null},unstyled:{control:"boolean",description:"When enabled, it removes component related styles in the core.",options:null},value:{control:"object",description:"An array of objects to display.",options:null}}},L={args:{value:0,unstyled:!1}};var P,z,C;L.parameters={...L.parameters,docs:{...(P=L.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    "value": 0,
    "unstyled": false
  }
}`,...(C=(z=L.parameters)==null?void 0:z.docs)==null?void 0:C.source}}};const xe=["Default"];export{L as Default,xe as __namedExportsOrder,we as default};
