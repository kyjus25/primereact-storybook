import{r as l}from"./index-76fb7be0.js";import{c as Ee,P as Te,m as x}from"./api.esm-2e2d159c.js";import{c as E}from"./hooks.esm-c93f10ee.js";import{C as _e,u as Ce}from"./componentbase.esm-b0caea1e.js";import"./_commonjsHelpers-de833af9.js";function We(o){if(Array.isArray(o))return o}function Le(o,a){var r=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(r!=null){var e,f,c,p,y=[],d=!0,m=!1;try{if(c=(r=r.call(o)).next,a===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(e=c.call(r)).done)&&(y.push(e.value),y.length!==a);d=!0);}catch(L){m=!0,f=L}finally{try{if(!d&&r.return!=null&&(p=r.return(),Object(p)!==p))return}finally{if(m)throw f}}return y}}function O(o,a){(a==null||a>o.length)&&(a=o.length);for(var r=0,e=new Array(a);r<a;r++)e[r]=o[r];return e}function Pe(o,a){if(o){if(typeof o=="string")return O(o,a);var r=Object.prototype.toString.call(o).slice(8,-1);if(r==="Object"&&o.constructor&&(r=o.constructor.name),r==="Map"||r==="Set")return Array.from(o);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(o,a)}}function Ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(o,a){return We(o)||Le(o,a)||Pe(o,a)||Ae()}var A=_e.extend({defaultProps:{__TYPE:"Knob",id:null,style:null,className:null,value:null,size:100,disabled:!1,readOnly:!1,showValue:!0,step:1,min:0,max:100,strokeWidth:14,name:null,valueColor:"var(--primary-color, Black)",rangeColor:"var(--surface-border, LightGray)",textColor:"var(--text-color-secondary, Black)",valueTemplate:"{value}",onChange:null,children:void 0},css:{classes:{range:"p-knob-range",value:"p-knob-value",label:"p-knob-text",root:function(a){var r=a.props;return Ee("p-knob p-component",{"p-disabled":r.disabled},r.className)}},styles:`
        @keyframes dash-frame {
            100% {
                stroke-dashoffset: 0;
            }
        }
        @layer primereact {
            .p-knob-range {
                fill: none;
                transition: stroke .1s ease-in;
            }
            .p-knob-value {
                animation-name: dash-frame;
                animation-fill-mode: forwards;
                fill: none;
            }
            .p-knob-text {
                font-size: 1.3rem;
                text-align: center;
            }
        }
        `}}),i=40,_=50,C=50,b=4*Math.PI/3,v=-Math.PI/3,K=l.memo(l.forwardRef(function(o,a){var r=l.useContext(Te),e=A.getProps(o,r),f=A.setMetaData({props:e}),c=f.ptm,p=f.cx,y=f.isUnstyled;Ce(A.css.styles,y,{name:"knob"});var d=l.useRef(null),m=!e.disabled&&!e.readOnly,L=E({target:"window",type:"mousemove",listener:function(t){P(t.offsetX,t.offsetY),t.preventDefault()},when:m}),D=T(L,2),V=D[0],S=D[1],H=E({target:"window",type:"mouseup",listener:function(t){S(),R(),t.preventDefault()},when:m}),z=T(H,2),$=z[0],R=z[1],q=E({target:"window",type:"touchmove",listener:function(t){if(t.touches.length===1){var u=d.current.getBoundingClientRect(),s=t.targetTouches.item(0),h=s.clientX-u.left,g=s.clientY-u.top;P(h,g),t.preventDefault()}},when:m}),I=T(q,2),F=I[0],U=I[1],G=E({target:"window",type:"touchend",listener:function(){U(),X()},when:m}),Y=T(G,2),J=Y[0],X=Y[1],M=function(t,u,s,h,g){return(t-u)*(g-h)/(s-u)+h},w=function(){return M(e.min>0&&e.max>0?e.min:0,e.min,e.max,b,v)},k=function(){return M(e.value,e.min,e.max,b,v)},Q=function(){return _+Math.cos(b)*i},Z=function(){return C-Math.sin(b)*i},ee=function(){return _+Math.cos(v)*i},ne=function(){return C-Math.sin(v)*i},te=function(){return _+Math.cos(w())*i},oe=function(){return C-Math.sin(w())*i},re=function(){return _+Math.cos(k())*i},ae=function(){return C-Math.sin(k())*i},ie=function(){return Math.abs(w()-k())<Math.PI?0:1},se=function(){return k()>w()?0:1},le="M ".concat(Q()," ").concat(Z()," A ").concat(i," ").concat(i," 0 1 1 ").concat(ee()," ").concat(ne()),ue="M ".concat(te()," ").concat(oe()," A ").concat(i," ").concat(i," 0 ").concat(ie()," ").concat(se()," ").concat(re()," ").concat(ae()),ce=function(){return e.valueTemplate.replace("{value}",e.value.toString())},P=function(t,u){var s=t-e.size/2,h=e.size/2-u,g=Math.atan2(h,s),ke=-Math.PI/2-Math.PI/6;pe(g,ke)},pe=function(t,u){var s;if(t>v)s=M(t,b,v,e.min,e.max);else if(t<u)s=M(t+2*Math.PI,b,v,e.min,e.max);else return;e.onChange&&e.onChange({value:Math.round((s-e.min)/e.step)*e.step+e.min})},de=function(t){!e.disabled&&!e.readOnly&&P(t.nativeEvent.offsetX,t.nativeEvent.offsetY)},me=function(t){V(),$(),t.preventDefault()},ve=function(){S(),R()},fe=function(){F(),J()},he=function(){U(),X()};l.useImperativeHandle(a,function(){return{props:e,getElement:function(){return d.current}}});var be=x({x:50,y:57,textAnchor:"middle",fill:e.textColor,className:p("label"),name:e.name},c("label")),ye=e.showValue&&l.createElement("text",be,ce()),ge=x({ref:d,id:e.id,className:p("root"),style:e.style},c("root")),xe=x({viewBox:"0 0 100 100",width:e.size,height:e.size,onClick:function(t){return de(t)},onMouseDown:function(t){return me(t)},onMouseUp:function(t){return ve()},onTouchStart:function(t){return fe()},onTouchEnd:function(t){return he()}},c("svg")),Me=x({d:le,strokeWidth:e.strokeWidth,stroke:e.rangeColor,className:p("range")},c("range")),we=x({d:ue,strokeWidth:e.strokeWidth,stroke:e.valueColor,className:p("value")},c("value"));return l.createElement("div",ge,l.createElement("svg",xe,l.createElement("path",Me),l.createElement("path",we),ye))}));K.displayName="Knob";const Ue={title:"Form/Knob",component:K,parameters:{layout:"centered"},argTypes:{children:{control:"text",description:"Used to get the child elements of the component.",options:null},className:{control:"text",description:"Style class of the element.",options:null},disabled:{control:"boolean",description:"When present, it specifies that the component should be disabled.",options:null},id:{control:"text",description:"Unique identifier of the element.",options:null},max:{control:"number",description:"Maximum boundary value.",options:null},min:{control:"number",description:"Mininum boundary value.",options:null},name:{control:"text",description:"Name of the input element.",options:null},pt:{control:"object",description:"Uses to pass attributes to DOM elements inside the component.",options:null},ptOptions:{control:"object",description:"Used to configure passthrough(pt) options of the component.",options:null},rangeColor:{control:"text",description:"Background color of the range.",options:null},readOnly:{control:"boolean",description:"When present, it specifies that the component value cannot be edited.",options:null},showValue:{control:"boolean",description:"Whether the show the value inside the knob.",options:null},size:{control:"number",description:"Size of the component in pixels.",options:null},step:{control:"number",description:"Step factor to increment/decrement the value.",options:null},strokeWidth:{control:"number",description:"Width of the knob stroke.",options:null},style:{control:"object",description:"Inline style of the element.",options:null},textColor:{control:"text",description:"Color of the value text.",options:null},unstyled:{control:"boolean",description:"When enabled, it removes component related styles in the core.",options:null},value:{control:"number",description:"Value of the component.",options:null},valueColor:{control:"text",description:"Background of the value.",options:null},valueTemplate:{control:"text",description:"Template string of the value.",options:null}}},W={args:{value:0,unstyled:!1}};var N,B,j;W.parameters={...W.parameters,docs:{...(N=W.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    "value": 0,
    "unstyled": false
  }
}`,...(j=(B=W.parameters)==null?void 0:B.docs)==null?void 0:j.source}}};const Ye=["Default"];export{W as Default,Ye as __namedExportsOrder,Ue as default};
//# sourceMappingURL=Knob.stories-3ad41e3a.js.map
