import{r as u}from"./index-76fb7be0.js";import{a as Je,c as v,P as H,U as Xe,Z as F,D as p,I as Ye,O as qe}from"./api.esm-4644ee78.js";import{C as Qe,u as en}from"./componentbase.esm-1c796d7e.js";import{C as nn}from"./csstransition.esm-f87c8556.js";import{d as tn,j as rn,k as an,E as on,i as ln,a as sn,c as un}from"./hooks.esm-d069ba29.js";import{O as cn}from"./overlayservice.esm-582e1694.js";import{P as pn}from"./portal.esm-16954874.js";import"./_commonjsHelpers-de833af9.js";import"./inheritsLoose-9eefaa95.js";import"./index-d3ea75b5.js";function K(){return K=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},K.apply(this,arguments)}function k(n){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},k(n)}function dn(n,r){if(k(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,r||"default");if(k(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function mn(n){var r=dn(n,"string");return k(r)==="symbol"?r:String(r)}function fn(n,r,t){return r=mn(r),r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}function B(n,r){(r==null||r>n.length)&&(r=n.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=n[t];return i}function bn(n){if(Array.isArray(n))return B(n)}function yn(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function pe(n,r){if(n){if(typeof n=="string")return B(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return B(n,r)}}function vn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ie(n){return bn(n)||yn(n)||pe(n)||vn()}function gn(n){if(Array.isArray(n))return n}function hn(n,r){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,a,D,x,d=[],E=!0,j=!1;try{if(D=(t=t.call(n)).next,r===0){if(Object(t)!==t)return;E=!1}else for(;!(E=(i=D.call(t)).done)&&(d.push(i.value),d.length!==r);E=!0);}catch(A){j=!0,a=A}finally{try{if(!E&&t.return!=null&&(x=t.return(),Object(x)!==x))return}finally{if(j)throw a}}return d}}function Sn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(n,r){return gn(n)||hn(n,r)||pe(n,r)||Sn()}var On=`
@layer primereact {
    .p-menu-overlay {
        position: absolute;
        /* Github #3122: Prevent animation flickering  */
        top: -9999px;
        left: -9999px;
    }

    .p-menu ul {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    .p-menu .p-menuitem-text {
        line-height: 1;
    }
}
`,xn={root:function(r){var t=r.props,i=r.context;return v("p-menu p-component",{"p-menu-overlay":t.popup,"p-input-filled":i&&i.inputStyle==="filled"||H.inputStyle==="filled","p-ripple-disabled":i&&i.ripple===!1||H.ripple===!1})},menu:"p-menu-list p-reset",content:"p-menuitem-content",action:function(r){var t=r.item;return v("p-menuitem-link",{"p-disabled":t.disabled})},menuitem:function(r){var t=r.focused;return v("p-menuitem",{"p-focus":t})},submenuHeader:function(r){var t=r.submenu;return v("p-submenu-header",{"p-disabled":t.disabled})},separator:"p-menu-separator",label:"p-menuitem-text",icon:"p-menuitem-icon",transition:"p-connected-overlay"},En={submenuHeader:function(r){var t=r.submenu;return t.style},menuitem:function(r){var t=r.item;return t.style}},T=Qe.extend({defaultProps:{__TYPE:"Menu",id:null,ariaLabel:null,ariaLabelledBy:null,tabIndex:0,model:null,popup:!1,popupAlignment:"left",style:null,className:null,autoZIndex:!0,baseZIndex:0,appendTo:null,onFocus:null,onBlur:null,transitionOptions:null,onShow:null,onHide:null,children:void 0,closeOnEscape:!0},css:{classes:xn,styles:On,inlineStyles:En}});function le(n,r){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);r&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function In(n){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?le(Object(t),!0).forEach(function(i){fn(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var de=u.memo(u.forwardRef(function(n,r){var t=tn(),i=u.useContext(Je),a=T.getProps(n,i),D=u.useState(a.id),x=w(D,2),d=x[0],E=x[1],j=u.useState(!a.popup),A=w(j,2),h=A[0],$=A[1],me=u.useState(-1),Z=w(me,2),S=Z[0],N=Z[1],fe=u.useState(-1),W=w(fe,2),z=W[0],be=W[1],ye=u.useState(!1),G=w(ye,2),ve=G[0],V=G[1],R=T.setMetaData({props:a,state:{id:d,visible:h}}),m=R.ptm,f=R.cx,J=R.sx,ge=R.isUnstyled;en(T.css.styles,ge,{name:"menu"});var c=u.useRef(null),X=u.useRef(null),b=u.useRef(null),Y=rn("menu",!!(h&&a.popup));an({callback:function(e){g(e)},when:h&&a.popup&&a.closeOnEscape&&Y,priority:[on.MENU,Y]});var he=ln({target:b,overlay:c,listener:function(e,o){var s=o.valid;s&&(g(e),N(-1))},when:h}),q=w(he,2),Se=q[0],Oe=q[1],xe=function(e){a.popup&&cn.emit("overlay-click",{originalEvent:e,target:b.current})},Q=function(e,o,s){if(o.disabled){e.preventDefault();return}o.command&&o.command({originalEvent:e,item:o}),a.popup&&g(e),!a.popup&&S!==s&&N(s),o.url||(e.preventDefault(),e.stopPropagation())},Ee=function(e){V(!0),a.popup||(z!==-1?(O(z),be(-1)):O(0)),a.onFocus&&a.onFocus(e)},Ie=function(e){V(!1),N(-1),a.onBlur&&a.onBlur(e)},we=function(e){switch(e.code){case"ArrowDown":Pe(e);break;case"ArrowUp":_e(e);break;case"Home":ke(e);break;case"End":De(e);break;case"Enter":ee(e);break;case"Space":je(e);break;case"Escape":a.popup&&(p.focus(b.current),g(e));case"Tab":a.popup&&h&&g(e);break}},Pe=function(e){var o=Ae(S);O(o),e.preventDefault()},_e=function(e){if(e.altKey&&a.popup)p.focus(b.current),g(e),e.preventDefault();else{var o=Ne(S);O(o),e.preventDefault()}},ke=function(e){O(0),e.preventDefault()},De=function(e){O(p.find(c.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()},ee=function(e){var o=p.findSingle(c.current,'li[id="'.concat("".concat(S),'"]')),s=o&&p.findSingle(o,'a[data-pc-section="action"]');a.popup&&p.focus(b.current),s?s.click():o&&o.click(),e.preventDefault()},je=function(e){ee(e)},Ae=function(e){var o=p.find(c.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),s=ie(o).findIndex(function(y){return y.id===e});return s>-1?s+1:0},Ne=function(e){var o=p.find(c.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),s=ie(o).findIndex(function(y){return y.id===e});return s>-1?s-1:0},O=function(e){var o=p.find(c.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),s=e>=o.length?o.length-1:e<0?0:e;s>-1&&N(o[s].getAttribute("id"))},ne=function(){return S!==-1?S:null},Re=function(e){a.popup&&(h?g(e):te(e))},te=function(e){b.current=e.currentTarget,$(!0),a.onShow&&a.onShow(e)},g=function(e){b.current=e.currentTarget,$(!1),a.onHide&&a.onHide(e)},Ce=function(){p.addStyles(c.current,{position:"absolute",top:"0",left:"0"}),F.set("menu",c.current,i&&i.autoZIndex||H.autoZIndex,a.baseZIndex||i&&i.zIndex.menu||H.zIndex.menu),p.absolutePosition(c.current,b.current,a.popupAlignment),a.popup&&(p.focus(X.current),O(0))},Te=function(){Se()},Me=function(){b.current=null,Oe()},He=function(){F.clear(c.current)};sn(function(){d||E(Xe())}),un(function(){F.clear(c.current)}),u.useImperativeHandle(r,function(){return{props:a,toggle:Re,show:te,hide:g,getElement:function(){return c.current},getTarget:function(){return b.current}}});var Ke=function(e,o){var s=d+"_sub_"+o,y=e.items.map(function(P,U){return re(P,U,s)}),C=t({id:s,key:s,role:"none",className:v(e.className,f("submenuHeader",{submenu:e})),style:J("submenuHeader",{submenu:e}),"data-p-disabled":e.disabled},m("submenuHeader"));return u.createElement(u.Fragment,{key:s},u.createElement("li",C,e.label),y)},Ue=function(e){var o=d+"_separator_"+e,s=t({id:o,key:o,className:f("separator"),role:"separator"},m("separator"));return u.createElement("li",s)},re=function(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(e.visible===!1)return null;var y=v("p-menuitem-link",{"p-disabled":e.disabled}),C=v("p-menuitem-icon",e.icon),P=t({className:f("icon")},m("icon")),U=Ye.getJSXIcon(e.icon,In({},P),{props:a}),$e=t({className:f("label")},m("label")),Ze=e.label&&u.createElement("span",$e,e.label),I=e.id||(s||d)+"_"+o,We=t({onClick:function(_){return Q(_,e,I)},className:f("content")},m("content")),ze=t({href:e.url||"#",className:f("action",{item:e}),onFocus:function(_){return _.stopPropagation()},target:e.target,tabIndex:"-1","aria-label":e.label,"aria-hidden":!0,"aria-disabled":e.disabled,"data-p-disabled":e.disabled},m("action")),L=u.createElement("div",We,u.createElement("a",ze,U,Ze));if(e.template){var Ge={onClick:function(_){return Q(_,e,I)},className:y,tabIndex:"-1",labelClassName:"p-menuitem-text",iconClassName:C,element:L,props:a};L=qe.getJSXElement(e.template,e,Ge)}var Ve=t({id:I,key:I,className:v(e.className,f("menuitem",{focused:S===I})),style:J("menuitem",{item:e}),role:"menuitem","aria-label":e.label,"aria-disabled":e.disabled,"data-p-focused":ne()===I,"data-p-disabled":e.disabled||!1},m("menuitem"));return u.createElement("li",Ve,L)},Le=function(e,o){return e.separator?Ue(o):e.items?Ke(e,o):re(e,o)},Fe=function(){return a.model.map(Le)},Be=function(){if(a.model){var e=Fe(),o=t({className:v(a.className,f("root",{context:i})),style:a.style,onClick:function(P){return xe(P)}},T.getOtherProps(a),m("root")),s=t({ref:X,className:f("menu"),id:d+"_list",tabIndex:a.tabIndex||"0",role:"menu","aria-label":a.ariaLabel,"aria-labelledby":a.ariaLabelledBy,"aria-activedescendant":ve?ne():void 0,onFocus:Ee,onKeyDown:we,onBlur:Ie},m("menu")),y=t({classNames:f("transition"),in:h,timeout:{enter:120,exit:100},options:a.transitionOptions,unmountOnExit:!0,onEnter:Ce,onEntered:Te,onExit:Me,onExited:He},m("transition"));return u.createElement(nn,K({nodeRef:c},y),u.createElement("div",K({id:a.id,ref:c},o),u.createElement("ul",s,e)))}return null},ae=Be();return a.popup?u.createElement(pn,{element:ae,appendTo:a.appendTo}):ae}));de.displayName="Menu";const Tn={title:"Menu/Menu",component:de,parameters:{layout:"centered"},argTypes:{appendTo:{control:"select",description:"DOM element instance where the overlay panel should be mounted. Valid values are any DOM Element and 'self'. The self value is used to render a component where it is located.",options:["null","HTMLElement","self"]},autoZIndex:{control:"boolean",description:"Whether to automatically manage layering.",options:null},baseZIndex:{control:"number",description:"Base zIndex value to use in layering.",options:null},children:{control:"text",description:"Used to get the child elements of the component.",options:null},closeOnEscape:{control:"boolean",description:"Specifies if pressing escape key should hide the Menu Popup.",options:null},model:{control:"object",description:"An array of menuitems.",options:null},popup:{control:"boolean",description:"Defines if menu would displayed as a popup.",options:null},popupAlignment:{control:"select",description:"In popup mode determines how the overlay is aligned with its target. Values either 'left' or 'right'.",options:["left","right"]},pt:{control:"object",description:"Uses to pass attributes to DOM elements inside the component.",options:null},ptOptions:{control:"object",description:"Used to configure passthrough(pt) options of the component.",options:null},transitionOptions:{control:"object",description:'The properties of CSSTransition can be customized, except for "nodeRef" and "in" properties.',options:null},unstyled:{control:"boolean",description:"When enabled, it removes component related styles in the core.",options:null}}},M={args:{unstyled:!1,model:[{label:"Update",icon:"pi pi-refresh"},{label:"Delete",icon:"pi pi-times"},{label:"React Website",icon:"pi pi-external-link"},{label:"Upload",icon:"pi pi-upload"}]}};var se,ue,ce;M.parameters={...M.parameters,docs:{...(se=M.parameters)==null?void 0:se.docs,source:{originalSource:`{
  args: {
    "unstyled": false,
    "model": [{
      "label": "Update",
      "icon": "pi pi-refresh"
    }, {
      "label": "Delete",
      "icon": "pi pi-times"
    }, {
      "label": "React Website",
      "icon": "pi pi-external-link"
    }, {
      "label": "Upload",
      "icon": "pi pi-upload"
    }]
  }
}`,...(ce=(ue=M.parameters)==null?void 0:ue.docs)==null?void 0:ce.source}}};const Mn=["Default"];export{M as Default,Mn as __namedExportsOrder,Tn as default};
