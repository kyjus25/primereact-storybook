import{r as i}from"./index-76fb7be0.js";import{P as we,c as S,b as R,U as Pe,Z as K,m as h,D as x,O as te,I as Ie}from"./api.esm-2e2d159c.js";import{C as De,u as _e}from"./componentbase.esm-b0caea1e.js";import{C as ke}from"./csstransition.esm-653f5084.js";import{h as je,d as Ne,f as Te}from"./hooks.esm-c93f10ee.js";import{O as Ce}from"./overlayservice.esm-07429284.js";import{P as Me}from"./portal.esm-c66f0cf3.js";import"./_commonjsHelpers-de833af9.js";import"./inheritsLoose-9eefaa95.js";import"./index-d3ea75b5.js";function A(){return A=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},A.apply(this,arguments)}function k(r){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(r)}function Re(r,e){if(k(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var o=t.call(r,e||"default");if(k(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ae(r){var e=Re(r,"string");return k(e)==="symbol"?e:String(e)}function Ue(r,e,t){return e=Ae(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function He(r){if(Array.isArray(r))return r}function Le(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var o,v,d,u,g=[],p=!0,f=!1;try{if(d=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;p=!1}else for(;!(p=(o=d.call(t)).done)&&(g.push(o.value),g.length!==e);p=!0);}catch(s){f=!0,v=s}finally{try{if(!p&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(f)throw v}}return g}}function q(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}function Ke(r,e){if(r){if(typeof r=="string")return q(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return q(r,e)}}function Ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(r,e){return He(r)||Le(r,e)||Ke(r,e)||Ze()}var $e=`
@layer primereact {
    .p-menu-overlay {
        position: absolute;
        /* Github #3122: Prevent animation flickering  */
        top: -9999px;
        left: -9999px;
    }
    
    .p-menu ul {
        margin: 0;
        padding: 0;
        list-style: none;
    }
    
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }
    
    .p-menu .p-menuitem-text {
        line-height: 1;
    }
}
`,We={root:function(e){var t=e.props,o=e.context;return S("p-menu p-component",{"p-menu-overlay":t.popup,"p-input-filled":o&&o.inputStyle==="filled"||R.inputStyle==="filled","p-ripple-disabled":o&&o.ripple===!1||R.ripple===!1})},menu:"p-menu-list p-reset",action:function(e){var t=e.item;return S("p-menuitem-link",{"p-disabled":t.disabled})},menuitem:"p-menuitem",submenuHeader:function(e){var t=e.submenu;return S("p-submenu-header",{"p-disabled":t.disabled})},separator:"p-menu-separator",label:"p-menuitem-text",icon:"p-menuitem-icon",transition:"p-connected-overlay"},ze={submenuHeader:function(e){var t=e.submenu;return t.style},menuitem:function(e){var t=e.item;return t.style}},T=De.extend({defaultProps:{__TYPE:"Menu",id:null,model:null,popup:!1,popupAlignment:"left",style:null,className:null,autoZIndex:!0,baseZIndex:0,appendTo:null,transitionOptions:null,onShow:null,onHide:null,children:void 0,closeOnEscape:!0},css:{classes:We,styles:$e,inlineStyles:ze}}),F=function(e){var t=i.useRef(void 0);return i.useEffect(function(){t.current=e}),t.current},Be=function(e){return i.useEffect(function(){return e},[])},Ve=function(e){var t=e.target,o=t===void 0?"document":t,v=e.type,d=e.listener,u=e.options,g=e.when,p=g===void 0?!0:g,f=i.useRef(null),s=i.useRef(null),j=F(d),I=F(u),b=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te.isNotEmpty(D.target)&&(c(),(D.when||p)&&(f.current=x.getTargetElement(D.target))),!s.current&&f.current&&(s.current=function(y){return d&&d(y)},f.current.addEventListener(v,s.current,u))},c=function(){s.current&&(f.current.removeEventListener(v,s.current,u),s.current=null)};return i.useEffect(function(){p?f.current=x.getTargetElement(o):(c(),f.current=null)},[o,p]),i.useEffect(function(){s.current&&(""+j!=""+d||I!==u)&&(c(),p&&b())},[d,u,p]),Be(function(){c()}),[b,c]},Je=function(e,t,o){var v=function(s){(s.key==="Esc"||s.key==="Escape")&&(s.stopImmediatePropagation(),o(s))},d=Ve({type:"keydown",listener:v}),u=M(d,2),g=u[0],p=u[1];return i.useEffect(function(){if(t&&e.current)return g(),function(){p()}}),[e,o]};function G(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(v){return Object.getOwnPropertyDescriptor(r,v).enumerable})),t.push.apply(t,o)}return t}function Xe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G(Object(t),!0).forEach(function(o){Ue(r,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(t,o))})}return r}var ne=i.memo(i.forwardRef(function(r,e){var t=i.useContext(we),o=T.getProps(r,t),v=i.useState(o.id),d=M(v,2),u=d[0],g=d[1],p=i.useState(!o.popup),f=M(p,2),s=f[0],j=f[1],I=T.setMetaData({props:o,state:{id:u,visible:s}}),b=I.ptm,c=I.cx,N=I.sx,D=I.isUnstyled;_e(T.css.styles,D,{name:"menu"});var y=i.useRef(null),E=i.useRef(null);Je(E,o.popup&&o.closeOnEscape,function(l){_(l)});var re=je({target:E,overlay:y,listener:function(n,a){var m=a.valid;m&&_(n)},when:s}),Z=M(re,2),oe=Z[0],ae=Z[1],ie=function(n){o.popup&&Ce.emit("overlay-click",{originalEvent:n,target:E.current})},$=function(n,a){if(a.disabled){n.preventDefault();return}a.url||n.preventDefault(),a.command&&a.command({originalEvent:n,item:a}),o.popup&&_(n)},W=function(n,a){var m=n.currentTarget.parentElement;switch(n.which){case 40:var O=le(m);O&&O.children[0].focus(),n.preventDefault();break;case 38:var w=se(m);w&&w.children[0].focus(),n.preventDefault();break}},le=function l(n){var a=n.nextElementSibling;return a?x.getAttribute(a,'[data-p-disabled="true"]')||!x.getAttribute(a,'[data-pc-section="menuitem"]')?l(a):a:null},se=function l(n){var a=n.previousElementSibling;return a?x.getAttribute(a,'[data-p-disabled="true"]')||!x.getAttribute(a,'[data-pc-section="menuitem"]')?l(a):a:null},ue=function(n){o.popup&&(s?_(n):z(n))},z=function(n){E.current=n.currentTarget,j(!0),o.onShow&&o.onShow(n)},_=function(n){E.current=n.currentTarget,j(!1),o.onHide&&o.onHide(n)},ce=function(){x.addStyles(y.current,{position:"absolute",top:"0",left:"0"}),K.set("menu",y.current,t&&t.autoZIndex||R.autoZIndex,o.baseZIndex||t&&t.zIndex.menu||R.zIndex.menu),x.absolutePosition(y.current,E.current,o.popupAlignment)},pe=function(){oe()},me=function(){E.current=null,ae()},de=function(){K.clear(y.current)};Ne(function(){u||g(Pe())}),Te(function(){K.clear(y.current)}),i.useImperativeHandle(e,function(){return{props:o,toggle:ue,show:z,hide:_,getElement:function(){return y.current},getTarget:function(){return E.current}}});var fe=function(n,a){var m=u+"_sub_"+a,O=n.items.map(B),w=h({id:m,key:m,role:"presentation",className:S(n.className,c("submenuHeader",{submenu:n})),style:N("submenuHeader",{submenu:n}),"data-p-disabled":n.disabled},b("submenuHeader"));return i.createElement(i.Fragment,{key:m},i.createElement("li",w,n.label),O)},be=function(n){var a=u+"_separator_"+n,m=h({id:a,key:a,className:c("separator"),role:"separator"},b("separator"));return i.createElement("li",m)},B=function(n,a){if(n.visible===!1)return null;var m=S("p-menuitem-link",{"p-disabled":n.disabled}),O=S("p-menuitem-icon",n.icon),w=h({className:c("icon")},b("icon")),U=Ie.getJSXIcon(n.icon,Xe({},w),{props:o}),he=h({className:c("label")},b("label")),Ee=n.label&&i.createElement("span",he,n.label),J=n.disabled?null:0,X=n.id||u+"_"+a,Oe=h({href:n.url||"#",className:c("action",{item:n}),role:"menuitem",target:n.target,onClick:function(P){return $(P,n)},onKeyDown:function(P){return W(P)},tabIndex:J,"aria-disabled":n.disabled,"data-p-disabled":n.disabled},b("action")),H=i.createElement("a",Oe,U,Ee);if(n.template){var xe={onClick:function(P){return $(P,n)},onKeyDown:function(P){return W(P)},className:m,tabIndex:J,labelClassName:"p-menuitem-text",iconClassName:O,element:H,props:o};H=te.getJSXElement(n.template,n,xe)}var Se=h({id:X,key:X,className:S(n.className,c("menuitem")),style:N("menuitem",{item:n}),role:"none","data-p-disabled":n.disabled||!1},b("menuitem"));return i.createElement("li",Se,H)},ve=function(n,a){return n.separator?be(a):n.items?fe(n,a):B(n,a)},ye=function(){return o.model.map(ve)},ge=function(){if(o.model){var n=ye(),a=h({className:S(o.className,c("root",{context:t})),style:o.style,onClick:function(U){return ie(U)}},T.getOtherProps(o),b("root")),m=h({className:c("menu"),role:"menu"},b("menu")),O=h({classNames:c("transition"),in:s,timeout:{enter:120,exit:100},options:o.transitionOptions,unmountOnExit:!0,onEnter:ce,onEntered:pe,onExit:me,onExited:de},b("transition"));return i.createElement(ke,A({nodeRef:y},O),i.createElement("div",A({id:o.id,ref:y},a),i.createElement("ul",m,n)))}return null},V=ge();return o.popup?i.createElement(Me,{element:V,appendTo:o.appendTo}):V}));ne.displayName="Menu";const at={title:"Menu/Menu",component:ne,parameters:{layout:"centered"},argTypes:{appendTo:{control:"select",description:"DOM element instance where the overlay panel should be mounted. Valid values are any DOM Element and 'self'. The self value is used to render a component where it is located.",options:["null","HTMLElement","self"]},autoZIndex:{control:"boolean",description:"Whether to automatically manage layering.",options:null},baseZIndex:{control:"number",description:"Base zIndex value to use in layering.",options:null},children:{control:"text",description:"Used to get the child elements of the component.",options:null},closeOnEscape:{control:"boolean",description:"Specifies if pressing escape key should hide the Menu Popup.",options:null},model:{control:"object",description:"An array of menuitems.",options:null},popup:{control:"boolean",description:"Defines if menu would displayed as a popup.",options:null},popupAlignment:{control:"select",description:"In popup mode determines how the overlay is aligned with its target. Values either 'left' or 'right'.",options:["left","right"]},pt:{control:"object",description:"Uses to pass attributes to DOM elements inside the component.",options:null},ptOptions:{control:"object",description:"Used to configure passthrough(pt) options of the component.",options:null},transitionOptions:{control:"object",description:'The properties of CSSTransition can be customized, except for "nodeRef" and "in" properties.',options:null},unstyled:{control:"boolean",description:"When enabled, it removes component related styles in the core.",options:null}}},C={args:{unstyled:!1,model:[{label:"Update",icon:"pi pi-refresh"},{label:"Delete",icon:"pi pi-times"},{label:"React Website",icon:"pi pi-external-link"},{label:"Upload",icon:"pi pi-upload"}]}};var Y,Q,ee;C.parameters={...C.parameters,docs:{...(Y=C.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  args: {
    "unstyled": false,
    "model": [{
      "label": "Update",
      "icon": "pi pi-refresh"
    }, {
      "label": "Delete",
      "icon": "pi pi-times"
    }, {
      "label": "React Website",
      "icon": "pi pi-external-link"
    }, {
      "label": "Upload",
      "icon": "pi pi-upload"
    }]
  }
}`,...(ee=(Q=C.parameters)==null?void 0:Q.docs)==null?void 0:ee.source}}};const it=["Default"];export{C as Default,it as __namedExportsOrder,at as default};
//# sourceMappingURL=Menu.stories-9d52a22c.js.map
