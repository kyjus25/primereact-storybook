{"version":3,"file":"ScrollPanel.stories-1b457a50.js","sources":["../../node_modules/primereact/scrollpanel/scrollpanel.esm.js"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { PrimeReactContext } from 'primereact/api';\nimport { useMountEffect, useUnmountEffect } from 'primereact/hooks';\nimport { classNames, mergeProps, DomHandler } from 'primereact/utils';\nimport { ComponentBase, useHandleStyle } from 'primereact/componentbase';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar ScrollPanelBase = ComponentBase.extend({\n  defaultProps: {\n    __TYPE: 'ScrollPanel',\n    id: null,\n    style: null,\n    className: null,\n    children: undefined\n  },\n  css: {\n    classes: {\n      root: function root(_ref) {\n        var props = _ref.props;\n        return classNames('p-scrollpanel p-component', props.className);\n      },\n      wrapper: 'p-scrollpanel-wrapper',\n      content: 'p-scrollpanel-content',\n      barx: 'p-scrollpanel-bar p-scrollpanel-bar-x',\n      bary: 'p-scrollpanel-bar p-scrollpanel-bar-y'\n    },\n    styles: \"\\n        @layer primereact {\\n            .p-scrollpanel-wrapper {\\n                overflow: hidden;\\n                width: 100%;\\n                height: 100%;\\n                position: relative;\\n                z-index: 1;\\n                float: left;\\n            }\\n            \\n            .p-scrollpanel-content {\\n                height: calc(100% + 18px);\\n                width: calc(100% + 18px);\\n                padding: 0 18px 18px 0;\\n                position: relative;\\n                overflow: auto;\\n                box-sizing: border-box;\\n            }\\n            \\n            .p-scrollpanel-bar {\\n                position: relative;\\n                background: #c1c1c1;\\n                border-radius: 3px;\\n                z-index: 2;\\n                cursor: pointer;\\n                opacity: 0;\\n                transition: opacity 0.25s linear;\\n            }\\n            \\n            .p-scrollpanel-bar-y {\\n                width: 9px;\\n                top: 0;\\n            }\\n            \\n            .p-scrollpanel-bar-x {\\n                height: 9px;\\n                bottom: 0;\\n            }\\n            \\n            .p-scrollpanel-hidden {\\n                visibility: hidden;\\n            }\\n            \\n            .p-scrollpanel:hover .p-scrollpanel-bar,\\n            .p-scrollpanel:active .p-scrollpanel-bar {\\n                opacity: 1;\\n            }\\n            \\n            .p-scrollpanel-grabbed {\\n                user-select: none;\\n            }\\n        }\\n        \"\n  }\n});\n\nvar ScrollPanel = /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var context = React.useContext(PrimeReactContext);\n  var props = ScrollPanelBase.getProps(inProps, context);\n  var _ScrollPanelBase$setM = ScrollPanelBase.setMetaData({\n      props: props\n    }),\n    ptm = _ScrollPanelBase$setM.ptm,\n    cx = _ScrollPanelBase$setM.cx,\n    isUnstyled = _ScrollPanelBase$setM.isUnstyled;\n  useHandleStyle(ScrollPanelBase.css.styles, isUnstyled, {\n    name: 'scrollpanel'\n  });\n  var containerRef = React.useRef(null);\n  var contentRef = React.useRef(null);\n  var xBarRef = React.useRef(null);\n  var yBarRef = React.useRef(null);\n  var isXBarClicked = React.useRef(false);\n  var isYBarClicked = React.useRef(false);\n  var lastPageX = React.useRef(null);\n  var lastPageY = React.useRef(null);\n  var scrollXRatio = React.useRef(null);\n  var scrollYRatio = React.useRef(null);\n  var frame = React.useRef(null);\n  var initialized = React.useRef(false);\n  var calculateContainerHeight = function calculateContainerHeight() {\n    var containerStyles = getComputedStyle(containerRef.current);\n    var xBarStyles = getComputedStyle(xBarRef.current);\n    var pureContainerHeight = DomHandler.getHeight(containerRef.current) - parseInt(xBarStyles['height'], 10);\n    if (containerStyles['max-height'] !== 'none' && pureContainerHeight === 0) {\n      if (contentRef.current.offsetHeight + parseInt(xBarStyles['height'], 10) > parseInt(containerStyles['max-height'], 10)) {\n        containerRef.current.style.height = containerStyles['max-height'];\n      } else {\n        containerRef.current.style.height = contentRef.current.offsetHeight + parseFloat(containerStyles.paddingTop) + parseFloat(containerStyles.paddingBottom) + parseFloat(containerStyles.borderTopWidth) + parseFloat(containerStyles.borderBottomWidth) + 'px';\n      }\n    }\n  };\n  var moveBar = function moveBar() {\n    // horizontal scroll\n    var totalWidth = contentRef.current.scrollWidth;\n    var ownWidth = contentRef.current.clientWidth;\n    var bottom = (containerRef.current.clientHeight - xBarRef.current.clientHeight) * -1;\n    scrollXRatio.current = ownWidth / totalWidth;\n\n    // vertical scroll\n    var totalHeight = contentRef.current.scrollHeight;\n    var ownHeight = contentRef.current.clientHeight;\n    var right = (containerRef.current.clientWidth - yBarRef.current.clientWidth) * -1;\n    scrollYRatio.current = ownHeight / totalHeight;\n    frame.current = window.requestAnimationFrame(function () {\n      if (scrollXRatio.current >= 1) {\n        DomHandler.addClass(xBarRef.current, 'p-scrollpanel-hidden');\n      } else {\n        DomHandler.removeClass(xBarRef.current, 'p-scrollpanel-hidden');\n        xBarRef.current.style.cssText = 'width:' + Math.max(scrollXRatio.current * 100, 10) + '%; left:' + contentRef.current.scrollLeft / totalWidth * 100 + '%;bottom:' + bottom + 'px;';\n      }\n      if (scrollYRatio.current >= 1) {\n        DomHandler.addClass(yBarRef.current, 'p-scrollpanel-hidden');\n      } else {\n        DomHandler.removeClass(yBarRef.current, 'p-scrollpanel-hidden');\n        yBarRef.current.style.cssText = 'height:' + Math.max(scrollYRatio.current * 100, 10) + '%; top: calc(' + contentRef.current.scrollTop / totalHeight * 100 + '% - ' + xBarRef.current.clientHeight + 'px);right:' + right + 'px;';\n      }\n    });\n  };\n  var onYBarMouseDown = function onYBarMouseDown(event) {\n    isYBarClicked.current = true;\n    lastPageY.current = event.pageY;\n    DomHandler.addClass(yBarRef.current, 'p-scrollpanel-grabbed');\n    DomHandler.addClass(document.body, 'p-scrollpanel-grabbed');\n    document.addEventListener('mousemove', onDocumentMouseMove);\n    document.addEventListener('mouseup', onDocumentMouseUp);\n    event.preventDefault();\n  };\n  var onXBarMouseDown = function onXBarMouseDown(event) {\n    isXBarClicked.current = true;\n    lastPageX.current = event.pageX;\n    DomHandler.addClass(xBarRef.current, 'p-scrollpanel-grabbed');\n    DomHandler.addClass(document.body, 'p-scrollpanel-grabbed');\n    document.addEventListener('mousemove', onDocumentMouseMove);\n    document.addEventListener('mouseup', onDocumentMouseUp);\n    event.preventDefault();\n  };\n  var onDocumentMouseMove = function onDocumentMouseMove(event) {\n    if (isXBarClicked.current) {\n      onMouseMoveForXBar(event);\n    } else if (isYBarClicked.current) {\n      onMouseMoveForYBar(event);\n    } else {\n      onMouseMoveForXBar(event);\n      onMouseMoveForYBar(event);\n    }\n  };\n  var onMouseMoveForXBar = function onMouseMoveForXBar(event) {\n    var deltaX = event.pageX - lastPageX.current;\n    lastPageX.current = event.pageX;\n    frame.current = window.requestAnimationFrame(function () {\n      contentRef.current.scrollLeft += deltaX / scrollXRatio.current;\n    });\n  };\n  var onMouseMoveForYBar = function onMouseMoveForYBar(event) {\n    var deltaY = event.pageY - lastPageY.current;\n    lastPageY.current = event.pageY;\n    frame.current = window.requestAnimationFrame(function () {\n      contentRef.current.scrollTop += deltaY / scrollYRatio.current;\n    });\n  };\n  var onDocumentMouseUp = function onDocumentMouseUp(event) {\n    DomHandler.removeClass(yBarRef.current, 'p-scrollpanel-grabbed');\n    DomHandler.removeClass(xBarRef.current, 'p-scrollpanel-grabbed');\n    DomHandler.removeClass(document.body, 'p-scrollpanel-grabbed');\n    document.removeEventListener('mousemove', onDocumentMouseMove);\n    document.removeEventListener('mouseup', onDocumentMouseUp);\n    isXBarClicked.current = false;\n    isYBarClicked.current = false;\n  };\n  var refresh = function refresh() {\n    moveBar();\n  };\n  useMountEffect(function () {\n    moveBar();\n    window.addEventListener('resize', moveBar);\n    calculateContainerHeight();\n    initialized.current = true;\n  });\n  useUnmountEffect(function () {\n    if (initialized.current) {\n      window.removeEventListener('resize', moveBar);\n    }\n    if (frame.current) {\n      window.cancelAnimationFrame(frame.current);\n    }\n  });\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      refresh: refresh,\n      getElement: function getElement() {\n        return containerRef.current;\n      },\n      getContent: function getContent() {\n        return contentRef.current;\n      },\n      getXBar: function getXBar() {\n        return xBarRef.current;\n      },\n      getYBar: function getYBar() {\n        return yBarRef.current;\n      }\n    };\n  });\n  var rootProps = mergeProps({\n    id: props.id,\n    ref: containerRef,\n    style: props.style,\n    className: cx('root')\n  }, ScrollPanelBase.getOtherProps(props), ptm('root'));\n  var wrapperProps = mergeProps({\n    className: cx('wrapper')\n  }, ptm('wrapper'));\n  var contentProps = mergeProps({\n    className: cx('content'),\n    onScroll: moveBar,\n    onMouseEnter: moveBar\n  }, ptm('content'));\n  var barXProps = mergeProps({\n    ref: xBarRef,\n    className: cx('barx'),\n    onMouseDown: onXBarMouseDown\n  }, ptm('barx'));\n  var barYProps = mergeProps({\n    ref: yBarRef,\n    className: cx('bary'),\n    onMouseDown: onYBarMouseDown\n  }, ptm('bary'));\n  return /*#__PURE__*/React.createElement(\"div\", rootProps, /*#__PURE__*/React.createElement(\"div\", wrapperProps, /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: contentRef\n  }, contentProps), props.children)), /*#__PURE__*/React.createElement(\"div\", barXProps), /*#__PURE__*/React.createElement(\"div\", barYProps));\n});\nScrollPanel.displayName = 'ScrollPanel';\n\nexport { ScrollPanel };\n"],"names":["_extends","target","i","source","key","ScrollPanelBase","ComponentBase","_ref","props","classNames","ScrollPanel","React.forwardRef","inProps","ref","context","React.useContext","PrimeReactContext","_ScrollPanelBase$setM","ptm","cx","isUnstyled","useHandleStyle","containerRef","React.useRef","contentRef","xBarRef","yBarRef","isXBarClicked","isYBarClicked","lastPageX","lastPageY","scrollXRatio","scrollYRatio","frame","initialized","calculateContainerHeight","containerStyles","xBarStyles","pureContainerHeight","DomHandler","moveBar","totalWidth","ownWidth","bottom","totalHeight","ownHeight","right","onYBarMouseDown","event","onDocumentMouseMove","onDocumentMouseUp","onXBarMouseDown","onMouseMoveForXBar","onMouseMoveForYBar","deltaX","deltaY","refresh","useMountEffect","useUnmountEffect","React.useImperativeHandle","rootProps","mergeProps","wrapperProps","contentProps","barXProps","barYProps","React.createElement"],"mappings":"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","x_google_ignoreList":[0]}