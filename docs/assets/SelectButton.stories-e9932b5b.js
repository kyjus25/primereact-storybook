import{r}from"./index-76fb7be0.js";import{a as W,D as U,O as d,c as B}from"./api.esm-4644ee78.js";import{d as R}from"./hooks.esm-d069ba29.js";import{T as q}from"./tooltip.esm-2acddad6.js";import{C as H}from"./componentbase.esm-1c796d7e.js";import{R as M}from"./ripple.esm-1f3221bd.js";import"./_commonjsHelpers-de833af9.js";import"./portal.esm-16954874.js";import"./index-d3ea75b5.js";function _(){return _=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},_.apply(this,arguments)}function j(e,l){(l==null||l>e.length)&&(l=e.length);for(var o=0,a=new Array(l);o<l;o++)a[o]=e[o];return a}function $(e){if(Array.isArray(e))return j(e)}function J(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F(e,l){if(e){if(typeof e=="string")return j(e,l);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return j(e,l)}}function X(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(e){return $(e)||J(e)||F(e)||X()}var Y={root:function(l){var o=l.props;return B("p-selectbutton p-buttonset p-component",o.className)},button:function(l){var o=l.itemProps,a=l.focusedState;return B("p-button p-component",{"p-highlight":o.selected,"p-disabled":o.disabled,"p-focus":a})},label:"p-button-label p-c"},P=H.extend({defaultProps:{__TYPE:"SelectButton",id:null,value:null,options:null,optionLabel:null,optionValue:null,optionDisabled:null,tabIndex:null,multiple:!1,unselectable:!0,allowEmpty:!0,disabled:!1,style:null,className:null,dataKey:null,tooltip:null,tooltipOptions:null,itemTemplate:null,onChange:null,children:void 0},css:{classes:Y}});function z(e){if(Array.isArray(e))return e}function G(e,l){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var a,t,s,m,u=[],c=!0,v=!1;try{if(s=(o=o.call(e)).next,l===0){if(Object(o)!==o)return;c=!1}else for(;!(c=(a=s.call(o)).done)&&(u.push(a.value),u.length!==l);c=!0);}catch(g){v=!0,t=g}finally{try{if(!c&&o.return!=null&&(m=o.return(),Object(m)!==m))return}finally{if(v)throw t}}return u}}function Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z(e,l){return z(e)||G(e,l)||F(e,l)||Q()}var L=r.memo(function(e){var l=r.useState(!1),o=Z(l,2),a=o[0],t=o[1],s=R(),m=e.ptm,u=e.cx,c=function(i){return m(i,{hostName:e.hostName,context:{selected:e.selected,disabled:e.disabled,option:e.option}})},v=function(i){e.onClick&&e.onClick({originalEvent:i,option:e.option})},g=function(){t(!0)},x=function(){t(!1)},O=function(i){var p=i.which;p===32&&(v(i),i.preventDefault())},D=function(){var i=s({className:u("label")},c("label"));return e.template?d.getJSXElement(e.template,e.option):r.createElement("span",i,e.label)},w=D(),C=s({className:B(e.className,u("button",{itemProps:e,focusedState:a})),role:"button","aria-label":e.label,"aria-pressed":e.selected,onClick:v,onKeyDown:O,tabIndex:e.tabIndex,onFocus:g,onBlur:x},c("button"));return r.createElement("div",C,w,!e.disabled&&r.createElement(M,null))});L.displayName="SelectButtonItem";var V=r.memo(r.forwardRef(function(e,l){var o=R(),a=r.useContext(W),t=P.getProps(e,a),s=r.useRef(null),m=P.setMetaData({props:t}),u=m.ptm,c=m.cx,v=function(n){if(!(t.disabled||O(n.option))){var f=D(n.option);if(!(f&&!(t.unselectable&&t.allowEmpty))){var b=x(n.option),h;if(t.multiple){var E=t.value?A(t.value):[];h=f?E.filter(function(S){return!d.equals(S,b,t.dataKey)}):[].concat(A(E),[b])}else h=f?null:b;t.onChange&&t.onChange({originalEvent:n.originalEvent,value:h,stopPropagation:function(){n.originalEvent.stopPropagation()},preventDefault:function(){n.originalEvent.preventDefault()},target:{name:t.name,id:t.id,value:h}})}}},g=function(n){return t.optionLabel?d.resolveFieldData(n,t.optionLabel):n&&n.label!==void 0?n.label:n},x=function(n){return t.optionValue?d.resolveFieldData(n,t.optionValue):n&&n.value!==void 0?n.value:n},O=function(n){return t.optionDisabled?d.isFunction(t.optionDisabled)?t.optionDisabled(n):d.resolveFieldData(n,t.optionDisabled):n&&n.disabled!==void 0?n.disabled:!1},D=function(n){var f=x(n);if(t.multiple){if(t.value&&t.value.length)return t.value.some(function(b){return d.equals(b,f,t.dataKey)})}else return d.equals(t.value,f,t.dataKey);return!1},w=function(){return t.options&&t.options.length?t.options.map(function(n,f){var b=t.disabled||O(n),h=g(n),E=b?null:0,S=D(n),K=h+"_"+f;return r.createElement(L,{hostName:"SelectButton",key:K,label:h,className:n.className,option:n,onClick:v,template:t.itemTemplate,selected:S,tabIndex:E,disabled:b,ptm:u,cx:c})}):null};r.useImperativeHandle(l,function(){return{props:t,focus:function(){return U.focusFirstElement(s.current)},getElement:function(){return s.current}}});var C=d.isNotEmpty(t.tooltip),y=w(),i=o({ref:s,id:t.id,className:c("root"),style:t.style,role:"group"},P.getOtherProps(t),u("root"));return r.createElement(r.Fragment,null,r.createElement("div",i,y),C&&r.createElement(q,_({target:s,content:t.tooltip},t.tooltipOptions,{pt:u("tooltip")})))}));V.displayName="SelectButton";const ue={title:"Form/SelectButton",component:V,parameters:{layout:"centered"},argTypes:{allowEmpty:{control:"boolean",description:"Whether selection can not be cleared.",options:null},ariaLabelledBy:{control:"text",description:"Establishes relationships between the component and label(s) where its value should be one or more element IDs.",options:null},children:{control:"text",description:"Used to get the child elements of the component.",options:null},dataKey:{control:"text",description:"A property to uniquely match the value in options for better performance.",options:null},disabled:{control:"boolean",description:"When present, it specifies that the element should be disabled.",options:null},multiple:{control:"boolean",description:"When specified, allows selecting multiple values.",options:null},optionDisabled:{control:"select",description:"Property name or getter function to use as the disabled flag of an option, defaults to false when not defined.",options:["string","Function"]},optionLabel:{control:"text",description:"Name of the label field of an option when an arbitrary objects instead of SelectItems are used as options.",options:null},options:{control:"object",description:"An array of objects to display as the available options.",options:null},optionValue:{control:"text",description:"Name of the value field of an option when arbitrary objects are used as options instead of SelectItems.",options:null},pt:{control:"object",description:"Uses to pass attributes to DOM elements inside the component.",options:null},ptOptions:{control:"object",description:"Used to configure passthrough(pt) options of the component.",options:null},tabIndex:{control:"number",description:"Index of the element in tabbing order.",options:null},tooltip:{control:"text",description:"Content of the tooltip.",options:null},tooltipOptions:{control:"object",description:"Configuration of the tooltip, refer to the tooltip documentation for more information.",options:null},unselectable:{control:"boolean",description:"Whether selection can be cleared.",options:null},unstyled:{control:"boolean",description:"When enabled, it removes component related styles in the core.",options:null},value:{control:"object",description:"Value of the component.",options:null}}},I={args:{unstyled:!1,options:[{label:"PrimeReact Rocks!",value:"1"},{label:"StoryBook Rocks!",value:"2"}],optionLabel:"label",optionValue:"value"}};var N,k,T;I.parameters={...I.parameters,docs:{...(N=I.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    "unstyled": false,
    "options": [{
      "label": "PrimeReact Rocks!",
      "value": "1"
    }, {
      "label": "StoryBook Rocks!",
      "value": "2"
    }],
    "optionLabel": "label",
    "optionValue": "value"
  }
}`,...(T=(k=I.parameters)==null?void 0:k.docs)==null?void 0:T.source}}};const ce=["Default"];export{I as Default,ce as __namedExportsOrder,ue as default};
