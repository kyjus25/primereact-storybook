import{r as d}from"./index-76fb7be0.js";import{h as p,a as Y,b as $,c as z}from"./hooks.esm-d069ba29.js";import{a as F,D as l,O as h}from"./api.esm-4644ee78.js";import"./_commonjsHelpers-de833af9.js";function G(r){if(Array.isArray(r))return r}function J(r,s){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var e,t,o,a,m=[],u=!0,f=!1;try{if(o=(n=n.call(r)).next,s===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(e=o.call(n)).done)&&(m.push(e.value),m.length!==s);u=!0);}catch(g){f=!0,t=g}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw t}}return m}}function L(r,s){(s==null||s>r.length)&&(s=r.length);for(var n=0,e=new Array(s);n<s;n++)e[n]=r[n];return e}function K(r,s){if(r){if(typeof r=="string")return L(r,s);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(r,s)}}function Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(r,s){return G(r)||J(r,s)||K(r,s)||Q()}var N={defaultProps:{__TYPE:"StyleClass",nodeRef:null,selector:null,enterClassName:null,enterActiveClassName:null,enterToClassName:null,leaveClassName:null,leaveActiveClassName:null,leaveToClassName:null,hideOnOutsideClick:!1,toggleClassName:null,children:void 0},getProps:function(s){return h.getMergedProps(s,N.defaultProps)},getOtherProps:function(s){return h.getDiffProps(s,N.defaultProps)}},P=d.forwardRef(function(r,s){var n=d.useContext(F),e=N.getProps(r,n),t=d.useRef(null),o=d.useRef(!1),a=d.useRef(null),m=p({type:"animationend",listener:function(){l.removeClass(t.current,e.enterActiveClassName),e.enterToClassName&&l.addClass(t.current,e.enterToClassName),g(),e.enterActiveClassName==="slidedown"&&(t.current.style.maxHeight=""),o.current=!1}}),u=v(m,2),f=u[0],g=u[1],k=p({type:"animationend",listener:function(){l.removeClass(t.current,e.leaveActiveClassName),e.leaveToClassName&&l.addClass(t.current,e.leaveToClassName),D(),o.current=!1}}),b=v(k,2),R=b[0],D=b[1],j=p({type:"click",listener:function(c){!W(t.current)||getComputedStyle(t.current).getPropertyValue("position")==="static"?y():B(c)&&S()},when:e.hideOnOutsideClick}),T=v(j,2),H=T[0],y=T[1],I=p({type:"click",listener:function(){t.current=V(),e.toggleClassName?l.hasClass(t.current,e.toggleClassName)?l.removeClass(t.current,e.toggleClassName):l.addClass(t.current,e.toggleClassName):l.isVisible(t.current)?S():U()}}),E=v(I,2),M=E[0],A=E[1],U=function(){e.enterActiveClassName?o.current||(o.current=!0,e.enterActiveClassName==="slidedown"&&(t.current.style.height="0px",l.removeClass(t.current,"hidden"),t.current.style.maxHeight=t.current.scrollHeight+"px",l.addClass(t.current,"hidden"),t.current.style.height=""),l.addClass(t.current,e.enterActiveClassName),e.enterClassName&&l.removeClass(t.current,e.enterClassName),f({target:t.current})):(e.enterClassName&&l.removeClass(t.current,e.enterClassName),e.enterToClassName&&l.addClass(t.current,e.enterToClassName)),H({target:a.current&&a.current.ownerDocument})},S=function(){e.leaveActiveClassName?o.current||(o.current=!0,l.addClass(t.current,e.leaveActiveClassName),e.leaveClassName&&l.removeClass(t.current,e.leaveClassName),R({target:t.current})):(e.leaveClassName&&l.removeClass(t.current,e.leaveClassName),e.leaveToClassName&&l.addClass(t.current,e.leaveToClassName)),e.hideOnOutsideClick&&y()},V=function(){if(t.current)return t.current;switch(e.selector){case"@next":return a.current&&a.current.nextElementSibling;case"@prev":return a.current&&a.current.previousElementSibling;case"@parent":return a.current&&a.current.parentElement;case"@grandparent":return a.current&&a.current.parentElement.parentElement;default:return document.querySelector(e.selector)}},x=function(){Promise.resolve().then(function(){a.current=h.getRefElement(e.nodeRef),M({target:a.current})})},q=function(){A(),y(),t.current=null},W=function(c){return c&&c.offsetParent!==null},B=function(c){return!a.current.isSameNode(c.target)&&!a.current.contains(c.target)&&!t.current.contains(c.target)};return d.useImperativeHandle(s,function(){return{props:e,getElement:function(){return a.current},getTarget:function(){return t.current}}}),Y(function(){x()}),$(function(){return x(),function(){A()}}),z(function(){q()}),e.children});P.displayName="StyleClass";const re={title:"Misc/StyleClass",component:P,parameters:{layout:"centered"},argTypes:{children:{control:"text",description:"Used to get the child elements of the component.",options:null},enterActiveClassName:{control:"text",description:"Style class to add during enter animation.",options:null},enterClassName:{control:"text",description:"Style class to add when item begins to get displayed.",options:null},enterToClassName:{control:"text",description:"Style class to add when item begins to get displayed.",options:null},hideOnOutsideClick:{control:"boolean",description:"Whether to trigger leave animation when outside of the element is clicked.",options:null},leaveActiveClassName:{control:"text",description:"Style class to add during leave animation.",options:null},leaveClassName:{control:"text",description:"Style class to add when item begins to get hidden.",options:null},leaveToClassName:{control:"text",description:"Style class to add when leave animation is completed.",options:null},nodeRef:{control:"text",description:"A React reference to DOM element that need to specify. Required.",options:null},selector:{control:"text",description:"Selector to define the target element.",options:null},toggleClassName:{control:"text",description:"Adds or removes a class when no enter-leave animation is required.",options:null}}},C={args:{}};var O,_,w;C.parameters={...C.parameters,docs:{...(O=C.parameters)==null?void 0:O.docs,source:{originalSource:`{
  args: {}
}`,...(w=(_=C.parameters)==null?void 0:_.docs)==null?void 0:w.source}}};const ne=["Default"];export{C as Default,ne as __namedExportsOrder,re as default};
