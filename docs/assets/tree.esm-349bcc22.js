import{r as f}from"./index-76fb7be0.js";import{P as Ae,O as K,D as P,m as E,c as j,I as de,b as Oe}from"./api.esm-e57be548.js";import{C as Fe,u as Re}from"./componentbase.esm-f35515f0.js";import{S as _e}from"./index.esm-57909d8b.js";import{S as $e}from"./index.esm-26cfcfc5.js";import{C as Ve}from"./index.esm-39668683.js";import{C as He}from"./index.esm-7d9aec4e.js";import{C as Je}from"./index.esm-eba0360d.js";import{M as Xe}from"./index.esm-fe2936ef.js";import{R as Be}from"./ripple.esm-42b8b102.js";function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},ke.apply(this,arguments)}function Ee(e,o){(o==null||o>e.length)&&(o=e.length);for(var r=0,t=new Array(o);r<o;r++)t[r]=e[r];return t}function ze(e){if(Array.isArray(e))return Ee(e)}function Ye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ne(e,o){if(e){if(typeof e=="string")return Ee(e,o);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ee(e,o)}}function qe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ge(e){return ze(e)||Ye(e)||Ne(e)||qe()}function W(e){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},W(e)}function Qe(e,o){if(W(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,o||"default");if(W(t)!=="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}function Ze(e){var o=Qe(e,"string");return W(o)==="symbol"?o:String(o)}function Le(e,o,r){return o=Ze(o),o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}function We(e){if(Array.isArray(e))return e}function en(e,o){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var t,g,O,b,m=[],p=!0,x=!1;try{if(O=(r=r.call(e)).next,o===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(t=O.call(r)).done)&&(m.push(t.value),m.length!==o);p=!0);}catch(F){x=!0,g=F}finally{try{if(!p&&r.return!=null&&(b=r.return(),Object(b)!==b))return}finally{if(x)throw g}}return m}}function nn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Te(e,o){return We(e)||en(e,o)||Ne(e,o)||nn()}var tn={container:"p-tree-container",loadingIcon:"p-tree-loading-icon",loadingOverlay:"p-tree-loading-overlay p-component-overlay",searchIcon:"p-tree-filter-icon",filterContainer:"p-tree-filter-container",input:"p-tree-filter p-inputtext p-component",header:"p-tree-header",footer:"p-tree-footer",root:function(o){var r=o.props;return j("p-tree p-component",{"p-tree-selectable":r.selectionMode,"p-tree-loading":r.loading,"p-disabled":r.disabled})},label:"p-treenode-label",checkboxIcon:"p-checkbox-icon p-c",checkboxContainer:"p-checkbox p-component",checkbox:function(o){var r=o.nodeProps,t=o.checked,g=o.partialChecked;return j("p-checkbox-box",{"p-highlight":t,"p-indeterminate":g,"p-disabled":r.disabled})},nodeIcon:"p-treenode-icon",togglerIcon:"p-tree-toggler-icon",toggler:"p-tree-toggler p-link",droppoint:"p-treenode-droppoint",content:function(o){var r=o.nodeProps,t=o.checked,g=o.selected,O=o.isCheckboxSelectionMode;return j("p-treenode-content",{"p-treenode-selectable":r.selectionMode&&r.node.selectable!==!1,"p-highlight":O()?t:g,"p-highlight-contextmenu":r.contextMenuSelectionKey&&r.contextMenuSelectionKey===r.node.key,"p-disabled":r.disabled})},subgroup:"p-treenode-children",node:function(o){var r=o.isLeaf;return j("p-treenode",{"p-treenode-leaf":r})}},rn=`
@layer primereact {
    .p-tree-container {
        margin: 0;
        padding: 0;
        list-style-type: none;
        overflow: auto;
    }
    
    .p-treenode-children {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-treenode-selectable {
        cursor: pointer;
        user-select: none;
    }
    
    .p-tree-toggler {
        cursor: pointer;
        user-select: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        overflow: hidden;
        position: relative;
    }
    
    .p-treenode-leaf > .p-treenode-content .p-tree-toggler {
        visibility: hidden;
    }
    
    .p-treenode-content {
        display: flex;
        align-items: center;
    }
    
    .p-tree-filter {
        width: 100%;
    }
    
    .p-tree-filter-container {
        position: relative;
        display: block;
        width: 100%;
    }
    
    .p-tree-filter-icon {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
    }
    
    .p-tree-loading {
        position: relative;
        min-height: 4rem;
    }
    
    .p-tree .p-tree-loading-overlay {
        position: absolute;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }
}
`,Q=Fe.extend({defaultProps:{__TYPE:"Tree",__parentMetadata:null,id:null,value:null,checkboxIcon:null,disabled:!1,selectionMode:null,selectionKeys:null,onSelectionChange:null,contextMenuSelectionKey:null,onContextMenuSelectionChange:null,expandedKeys:null,style:null,className:null,contentStyle:null,contentClassName:null,metaKeySelection:!0,propagateSelectionUp:!0,propagateSelectionDown:!0,loading:!1,loadingIcon:null,expandIcon:null,collapseIcon:null,dragdropScope:null,header:null,footer:null,showHeader:!0,filter:!1,filterIcon:null,filterValue:null,filterBy:"label",filterMode:"lenient",filterPlaceholder:null,filterLocale:void 0,filterTemplate:null,nodeTemplate:null,togglerTemplate:null,onSelect:null,onUnselect:null,onExpand:null,onCollapse:null,onToggle:null,onDragDrop:null,onContextMenu:null,onFilterValueChange:null,onNodeClick:null,onNodeDoubleClick:null,children:void 0},css:{classes:tn,styles:rn}});function an(e,o){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=on(e))||o&&e&&typeof e.length=="number"){r&&(e=r);var t=0,g=function(){};return{s:g,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(x){throw x},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O=!0,b=!1,m;return{s:function(){r=r.call(e)},n:function(){var x=r.next();return O=x.done,x},e:function(x){b=!0,m=x},f:function(){try{!O&&r.return!=null&&r.return()}finally{if(b)throw m}}}}function on(e,o){if(e){if(typeof e=="string")return we(e,o);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return we(e,o)}}function we(e,o){(o==null||o>e.length)&&(o=e.length);for(var r=0,t=new Array(o);r<o;r++)t[r]=e[r];return t}function Me(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),r.push.apply(r,t)}return r}function L(e){for(var o=1;o<arguments.length;o++){var r=arguments[o]!=null?arguments[o]:{};o%2?Me(Object(r),!0).forEach(function(t){Le(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Ie=f.memo(function(e){var o=f.useRef(null),r=f.useRef(!1),t=e.isNodeLeaf(e.node),g=(e.expandedKeys?e.expandedKeys[e.node.key]!==void 0:!1)||e.node.expanded,O=e.ptm,b=e.cx,m=function(n){return O(n,{hostName:e.hostName,context:{selected:U()?!1:V(),expanded:g||!1,checked:U()?$():!1,isLeaf:t}})},p=function(n){var l=e.expandedKeys?L({},e.expandedKeys):{};l[e.node.key]=!0,e.onToggle({originalEvent:n,value:l}),ee(n,!0)},x=function(n){var l=L({},e.expandedKeys);delete l[e.node.key],e.onToggle({originalEvent:n,value:l}),ee(n,!1)},F=function(n){e.disabled||(g?x(n):p(n),n.preventDefault(),n.stopPropagation())},ee=function(n,l){l?e.onExpand&&e.onExpand({originalEvent:n,node:e.node}):e.onCollapse&&e.onCollapse({originalEvent:n,node:e.node})},ne=function(n){if(!e.disabled){var l=n.target.parentElement;if(P.hasClass(l,"p-treenode"))switch(n.which){case 40:var c=l.children[1];if(c)N(c.children[0]);else{for(var y=l.nextElementSibling;y&&P.hasClass(y,"p-treenode-droppoint");)y=y.nextElementSibling;if(y)N(y);else{var D=R(l);D&&N(D)}}n.preventDefault();break;case 38:if(l.previousElementSibling)N(k(l.previousElementSibling));else{var I=_(l);I&&N(I)}n.preventDefault();break;case 39:g||p(n),n.preventDefault();break;case 37:g&&x(n),n.preventDefault();break;case 13:B(n),n.preventDefault();break}}},R=function d(n){var l=_(n);return l?l.nextElementSibling||d(l):null},k=function d(n){var l=n.children[1];if(l){var c=l.children[l.children.length-1];return d(c)}else return n},_=function(n){var l=n.parentElement.parentElement;return P.hasClass(l,"p-treenode")?l:null},N=function(n){n&&n.children[0]&&n.children[0].focus()},B=function(n){e.onClick&&e.onClick({originalEvent:n,node:e.node});var l=n.target.nodeName;if(!(e.disabled||l==="INPUT"||l==="BUTTON"||l==="A"||P.hasClass(n.target,"p-clickable"))){if(e.selectionMode&&e.node.selectable!==!1){var c;if(U()){var y=$();c=e.selectionKeys?L({},e.selectionKeys):{},y?(e.propagateSelectionDown?te(e.node,!1,c):delete c[e.node.key],e.propagateSelectionUp&&e.onPropagateUp&&e.onPropagateUp({originalEvent:n,check:!1,selectionKeys:c}),e.onUnselect&&e.onUnselect({originalEvent:n,node:e.node})):(e.propagateSelectionDown?te(e.node,!0,c):c[e.node.key]={checked:!0},e.propagateSelectionUp&&e.onPropagateUp&&e.onPropagateUp({originalEvent:n,check:!0,selectionKeys:c}),e.onSelect&&e.onSelect({originalEvent:n,node:e.node}))}else{var D=V(),I=r.current?!1:e.metaKeySelection;if(I){var u=n.metaKey||n.ctrlKey;D&&u?(H()?c=null:(c=L({},e.selectionKeys),delete c[e.node.key]),e.onUnselect&&e.onUnselect({originalEvent:n,node:e.node})):(H()?c=e.node.key:fe()&&(c=u?e.selectionKeys?L({},e.selectionKeys):{}:{},c[e.node.key]=!0),e.onSelect&&e.onSelect({originalEvent:n,node:e.node}))}else H()?D?(c=null,e.onUnselect&&e.onUnselect({originalEvent:n,node:e.node})):(c=e.node.key,e.onSelect&&e.onSelect({originalEvent:n,node:e.node})):D?(c=L({},e.selectionKeys),delete c[e.node.key],e.onUnselect&&e.onUnselect({originalEvent:n,node:e.node})):(c=e.selectionKeys?L({},e.selectionKeys):{},c[e.node.key]=!0,e.onSelect&&e.onSelect({originalEvent:n,node:e.node}))}e.onSelectionChange&&e.onSelectionChange({originalEvent:n,value:c})}r.current=!1}},z=function(n){e.onDoubleClick&&e.onDoubleClick({originalEvent:n,node:e.node})},w=function(n){e.disabled||(P.clearSelection(),e.onContextMenuSelectionChange&&e.onContextMenuSelectionChange({originalEvent:n,value:e.node.key}),e.onContextMenu&&e.onContextMenu({originalEvent:n,node:e.node}))},M=function(n){var l=n.check,c=n.selectionKeys,y=0,D=an(e.node.children),I;try{for(D.s();!(I=D.n()).done;){var u=I.value;c[u.key]&&c[u.key].checked&&y++}}catch(h){D.e(h)}finally{D.f()}var a=e.node.key,i=K.findChildrenByKey(e.originalOptions,a),s=i.some(function(h){return h.key in c}),v=i.every(function(h){return h.key in c&&c[h.key].checked});s&&!v?c[a]={checked:!1,partialChecked:!0}:v?c[a]={checked:!0,partialChecked:!1}:l?c[a]={checked:!1,partialChecked:!1}:delete c[a],e.propagateSelectionUp&&e.onPropagateUp&&e.onPropagateUp(n)},te=function d(n,l,c){if(l?c[n.key]={checked:!0,partialChecked:!1}:delete c[n.key],n.children&&n.children.length)for(var y=0;y<n.children.length;y++)d(n.children[y],l,c)},V=function(){return e.selectionMode&&e.selectionKeys?H()?e.selectionKeys===e.node.key:e.selectionKeys[e.node.key]!==void 0:!1},$=function(){return(e.selectionKeys?e.selectionKeys[e.node.key]&&e.selectionKeys[e.node.key].checked:!1)||!1},ue=function(){return e.selectionKeys?e.selectionKeys[e.node.key]&&e.selectionKeys[e.node.key].partialChecked:!1},H=function(){return e.selectionMode&&e.selectionMode==="single"},fe=function(){return e.selectionMode&&e.selectionMode==="multiple"},U=function(){return e.selectionMode&&e.selectionMode==="checkbox"},se=function(){r.current=!0},ge=function(n,l){if(n.preventDefault(),e.node.droppable!==!1&&(P.removeClass(n.target,"p-treenode-droppoint-active"),e.onDropPoint)){var c=l===-1?e.index:e.index+1;e.onDropPoint({originalEvent:n,path:e.path,index:c,position:l})}},re=function(n){n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&(n.dataTransfer.dropEffect="move",n.preventDefault())},ve=function(n){n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&P.addClass(n.target,"p-treenode-droppoint-active")},he=function(n){n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&P.removeClass(n.target,"p-treenode-droppoint-active")},ae=function(n){e.dragdropScope&&e.node.droppable!==!1&&(P.removeClass(o.current,"p-treenode-dragover"),n.preventDefault(),n.stopPropagation(),e.onDrop&&e.onDrop({originalEvent:n,path:e.path,index:e.index}))},J=function(n){n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&e.node.droppable!==!1&&(n.dataTransfer.dropEffect="move",n.preventDefault(),n.stopPropagation())},oe=function(n){n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&e.node.droppable!==!1&&P.addClass(o.current,"p-treenode-dragover")},Y=function(n){if(n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&e.node.droppable!==!1){var l=n.currentTarget.getBoundingClientRect();(n.nativeEvent.x>l.left+l.width||n.nativeEvent.x<l.left||n.nativeEvent.y>=Math.floor(l.top+l.height)||n.nativeEvent.y<l.top)&&P.removeClass(o.current,"p-treenode-dragover")}},X=function(n){n.dataTransfer.setData("text",e.dragdropScope),n.dataTransfer.setData(e.dragdropScope,e.dragdropScope),e.onDragStart&&e.onDragStart({originalEvent:n,path:e.path,index:e.index})},ye=function(n){e.onDragEnd&&e.onDragEnd({originalEvent:n})},le=function(){var n=E({className:b("label")},m("label")),l=f.createElement("span",n,e.node.label);if(e.nodeTemplate){var c={onTogglerClick:F,className:"p-treenode-label",element:l,props:e,expanded:g};l=K.getJSXElement(e.nodeTemplate,e.node,c)}return l},q=function(){if(U()&&e.node.selectable!==!1){var n=$(),l=ue(),c=E({className:b("checkboxIcon")},m("checkboxIcon")),y=n?e.checkboxIcon||f.createElement(Ve,c):l?e.checkboxIcon||f.createElement(Xe,c):null,D=de.getJSXIcon(y,L({},c),e),I=E({className:b("checkboxContainer")},m("checkboxContainer")),u=E({className:b("checkbox",{checked:n,partialChecked:l,nodeProps:e}),role:"checkbox","aria-checked":n},m("checkbox"));return f.createElement("div",I,f.createElement("div",u,D))}return null},G=function(){var n=e.node.icon||(g?e.node.expandedIcon:e.node.collapsedIcon);if(n){var l=E({className:j(n,b("nodeIcon"))},m("nodeIcon"));return f.createElement("span",l)}return null},me=function(){var n=g?Oe("collapseLabel"):Oe("expandLabel"),l=E({className:b("togglerIcon"),"aria-hidden":!0},m("togglerIcon")),c=g?e.collapseIcon||f.createElement(He,l):e.expandIcon||f.createElement(Je,l),y=de.getJSXIcon(c,L({},l),{props:e,expanded:g}),D=E({type:"button",className:b("toggler"),tabIndex:-1,onClick:F,"aria-label":n},m("toggler")),I=f.createElement("button",D,y,f.createElement(Be,null));if(e.togglerTemplate){var u={onClick:F,containerClassName:"p-tree-toggler p-link",iconClassName:"p-tree-toggler-icon",element:I,props:e,expanded:g};I=K.getJSXElement(e.togglerTemplate,e.node,u)}return I},ie=function(n){if(e.dragdropScope){var l=E({className:b("droppoint"),onDrop:function(y){return ge(y,n)},onDragOver:re,onDragEnter:ve,onDragLeave:he},m("droppoint"));return f.createElement("li",l)}return null},be=function(){var n=V(),l=$(),c=me(),y=q(),D=G(),I=le(),u=E({ref:o,className:j(e.node.className,b("content",{checked:l,selected:n,nodeProps:e,isCheckboxSelectionMode:U})),style:e.node.style,onClick:B,onDoubleClick:z,onContextMenu:w,onTouchEnd:se,draggable:e.dragdropScope&&e.node.draggable!==!1&&!e.disabled,onDrop:ae,onDragOver:J,onDragEnter:oe,onDragLeave:Y,onDragStart:X,onDragEnd:ye,onKeyDown:ne},m("content"));return f.createElement("div",u,c,y,D,I)},pe=function(){var n=E({className:b("subgroup"),role:"group"},m("subgroup"));return K.isNotEmpty(e.node.children)&&g?f.createElement("ul",n,e.node.children.map(function(l,c){return f.createElement(Ie,{key:l.key||l.label,node:l,originalOptions:e.originalOptions,parent:e.node,index:c,last:c===e.node.children.length-1,path:e.path+"-"+c,disabled:e.disabled,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys,onSelectionChange:e.onSelectionChange,metaKeySelection:e.metaKeySelection,propagateSelectionDown:e.propagateSelectionDown,propagateSelectionUp:e.propagateSelectionUp,contextMenuSelectionKey:e.contextMenuSelectionKey,onContextMenuSelectionChange:e.onContextMenuSelectionChange,onContextMenu:e.onContextMenu,onExpand:e.onExpand,onCollapse:e.onCollapse,onSelect:e.onSelect,onUnselect:e.onUnselect,onClick:e.onClick,onDoubleClick:e.onDoubleClick,expandedKeys:e.expandedKeys,onToggle:e.onToggle,onPropagateUp:M,nodeTemplate:e.nodeTemplate,togglerTemplate:e.togglerTemplate,isNodeLeaf:e.isNodeLeaf,dragdropScope:e.dragdropScope,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDrop:e.onDrop,onDropPoint:e.onDropPoint,ptm:O,cx:b})})):null},Se=function(){var n=e.disabled?void 0:0,l=V(),c=$(),y=be(),D=pe(),I=E({className:j(e.node.className,b("node",{isLeaf:t})),style:e.node.style,tabIndex:n,role:"treeitem","aria-posinset":e.index+1,"aria-expanded":g,"aria-selected":c||l},m("node"));return f.createElement("li",I,y,D)},ce=Se();if(e.dragdropScope&&!e.disabled){var xe=ie(-1),Ce=e.last?ie(1):null;return f.createElement(f.Fragment,null,xe,ce,Ce)}return ce});Ie.displayName="UITreeNode";function Pe(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),r.push.apply(r,t)}return r}function Z(e){for(var o=1;o<arguments.length;o++){var r=arguments[o]!=null?arguments[o]:{};o%2?Pe(Object(r),!0).forEach(function(t){Le(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function De(e,o){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ln(e))||o&&e&&typeof e.length=="number"){r&&(e=r);var t=0,g=function(){};return{s:g,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(x){throw x},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O=!0,b=!1,m;return{s:function(){r=r.call(e)},n:function(){var x=r.next();return O=x.done,x},e:function(x){b=!0,m=x},f:function(){try{!O&&r.return!=null&&r.return()}finally{if(b)throw m}}}}function ln(e,o){if(e){if(typeof e=="string")return Ke(e,o);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ke(e,o)}}function Ke(e,o){(o==null||o>e.length)&&(o=e.length);for(var r=0,t=new Array(o);r<o;r++)t[r]=e[r];return t}var cn=f.memo(f.forwardRef(function(e,o){var r=f.useContext(Ae),t=Q.getProps(e,r),g=f.useState(""),O=Te(g,2),b=O[0],m=O[1],p=f.useState(t.expandedKeys),x=Te(p,2),F=x[0],ee=x[1],ne=f.useRef(null),R=f.useRef([]),k=f.useRef(null),_=f.useRef(!1),N=t.onFilterValueChange?t.filterValue:b,B=t.onToggle?t.expandedKeys:F,z=Q.setMetaData({props:t,state:{filterValue:N,expandedKeys:B}}),w=z.ptm,M=z.cx,te=z.isUnstyled;Re(Q.css.styles,te,{name:"tree"});var V={filter:function(a){return X(a)},reset:function(){return me()}},$=function(){return t.filter&&R.current?R.current:t.value},ue=function(a){t.onToggle?t.onToggle(a):ee(a.value)},H=function(a){k.current={path:a.path,index:a.index}},fe=function(){k.current=null},U=function u(a){if(Array.isArray(a))return a.map(u);if(a&&Object.getPrototypeOf(a)===Object.prototype){var i={};for(var s in a)s!=="data"?i[s]=u(a[s]):i[s]=a[s];return i}else return a},se=function(a){if(ve(k.current.path,a.path)){var i=U(t.value),s=k.current.path.split("-");s.pop();var v=J(i,s),h=v?v.children[k.current.index]:i[k.current.index],S=J(i,a.path.split("-"));S.children?S.children.push(h):S.children=[h],v?v.children.splice(k.current.index,1):i.splice(k.current.index,1),t.onDragDrop&&t.onDragDrop({originalEvent:a.originalEvent,value:i,dragNode:h,dropNode:S,dropIndex:a.index})}},ge=function(a){if(he(a)){var i=U(t.value),s=k.current.path.split("-");s.pop();var v=a.path.split("-");v.pop();var h=J(i,s),S=J(i,v),C=h?h.children[k.current.index]:i[k.current.index],T=ae(k.current.path,a.path);if(h?h.children.splice(k.current.index,1):i.splice(k.current.index,1),a.position<0){var A=T?k.current.index>a.index?a.index:a.index-1:a.index;S?S.children.splice(A,0,C):i.splice(A,0,C)}else S?S.children.push(C):i.push(C);t.onDragDrop&&t.onDragDrop({originalEvent:a.originalEvent,value:i,dragNode:C,dropNode:S,dropIndex:a.index})}},re=function(a,i){return a?!(a===i||i.indexOf(a)===0):!1},ve=function(a,i){var s=re(a,i);return s?!(a.indexOf("-")>0&&a.substring(0,a.lastIndexOf("-"))===i):!1},he=function(a){var i=re(k.current.path,a.path);return i?!(a.position===-1&&ae(k.current.path,a.path)&&k.current.index+1===a.index):!1},ae=function(a,i){return a.length===1&&i.length===1?!0:a.substring(0,a.lastIndexOf("-"))===i.substring(0,i.lastIndexOf("-"))},J=function u(a,i){if(i.length===0)return null;var s=parseInt(i[0],10),v=a.children?a.children[s]:a[s];return i.length===1?v:(i.shift(),u(v,i))},oe=function(a){return a.leaf===!1?!1:!(a.children&&a.children.length)},Y=function(a){a.which===13&&a.preventDefault()},X=function(a){_.current=!0;var i=a.target.value;t.onFilterValueChange?t.onFilterValueChange({originalEvent:a,value:i}):m(i)},ye=function(a){m(K.isNotEmpty(a)?a:""),le()},le=function(){if(_.current){if(K.isEmpty(N))R.current=t.value;else{R.current=[];var a=t.filterBy.split(","),i=N.toLocaleLowerCase(t.filterLocale),s=t.filterMode==="strict",v=De(t.value),h;try{for(v.s();!(h=v.n()).done;){var S=h.value,C=Z({},S),T={searchFields:a,filterText:i,isStrictMode:s};(s&&(q(C,T)||G(C,T))||!s&&(G(C,T)||q(C,T)))&&R.current.push(C)}}catch(A){v.e(A)}finally{v.f()}}_.current=!1}},q=function(a,i){if(a){var s=!1;if(a.children){var v=Ge(a.children);a.children=[];var h=De(v),S;try{for(h.s();!(S=h.n()).done;){var C=S.value,T=Z({},C);G(T,i)&&(s=!0,a.children.push(T))}}catch(A){h.e(A)}finally{h.f()}}if(s)return a.expanded=!0,!0}},G=function(a,i){var s=i.searchFields,v=i.filterText,h=i.isStrictMode,S=!1,C=De(s),T;try{for(C.s();!(T=C.n()).done;){var A=T.value,je=String(K.resolveFieldData(a,A)).toLocaleLowerCase(t.filterLocale);je.indexOf(v)>-1&&(S=!0)}}catch(Ue){C.e(Ue)}finally{C.f()}return(!S||h&&!oe(a))&&(S=q(a,{searchFields:s,filterText:v,isStrictMode:h})||S),S},me=function(){m("")};f.useImperativeHandle(o,function(){return{props:t,filter:ye,getElement:function(){return ne.current}}});var ie=function(a,i,s){return f.createElement(Ie,{hostName:"Tree",key:a.key||a.label,node:a,originalOptions:t.value,index:i,last:s,path:String(i),checkboxIcon:t.checkboxIcon,expandIcon:t.expandIcon,collapseIcon:t.collapseIcon,disabled:t.disabled,selectionMode:t.selectionMode,selectionKeys:t.selectionKeys,onSelectionChange:t.onSelectionChange,metaKeySelection:t.metaKeySelection,contextMenuSelectionKey:t.contextMenuSelectionKey,onContextMenuSelectionChange:t.onContextMenuSelectionChange,onContextMenu:t.onContextMenu,propagateSelectionDown:t.propagateSelectionDown,propagateSelectionUp:t.propagateSelectionUp,onExpand:t.onExpand,onCollapse:t.onCollapse,onSelect:t.onSelect,onUnselect:t.onUnselect,expandedKeys:B,onToggle:ue,nodeTemplate:t.nodeTemplate,togglerTemplate:t.togglerTemplate,isNodeLeaf:oe,dragdropScope:t.dragdropScope,onDragStart:H,onDragEnd:fe,onDrop:se,onDropPoint:ge,onClick:t.onNodeClick,onDoubleClick:t.onNodeDoubleClick,ptm:w,cx:M})},be=function(){t.filter&&(_.current=!0,le());var a=$();return a.map(function(i,s){return ie(i,s,s===a.length-1)})},pe=function(){if(t.value){var a=be(),i=E(Z({className:j(t.contentClassName,M("container")),role:"tree",style:t.contentStyle},n),w("container"));return f.createElement("ul",i,a)}return null},Se=function(){if(t.loading){var a=E({className:M("loadingIcon")},w("loadingIcon")),i=t.loadingIcon||f.createElement($e,ke({},a,{spin:!0})),s=de.getJSXIcon(i,Z({},a),{props:t}),v=E({className:M("loadingOverlay")},w("loadingOverlay"));return f.createElement("div",v,s)}return null},ce=function(){if(t.filter){var a=K.isNotEmpty(N)?N:"",i=E({className:M("searchIcon")},w("searchIcon")),s=t.filterIcon||f.createElement(_e,i),v=de.getJSXIcon(s,Z({},i),{props:t}),h=E({className:M("filterContainer")},w("filterContainer")),S=E({type:"text",value:a,autoComplete:"off",className:M("input"),placeholder:t.filterPlaceholder,"aria-label":t.filterPlaceholder,onKeyDown:Y,onChange:X,disabled:t.disabled},w("input")),C=f.createElement("div",h,f.createElement("input",S),v);if(t.filterTemplate){var T={className:"p-tree-filter-container",element:C,filterOptions:V,filterInputKeyDown:Y,filterInputChange:X,filterIconClassName:"p-dropdown-filter-icon",props:t};C=K.getJSXElement(t.filterTemplate,T)}return f.createElement(f.Fragment,null,C)}return null},xe=function(){if(t.showHeader){var a=ce(),i=a;if(t.header){var s={filterContainerClassName:"p-tree-filter-container",filterIconClassName:"p-tree-filter-icon",filterInput:{className:"p-tree-filter p-inputtext p-component",onKeyDown:Y,onChange:X},filterElement:a,element:i,props:t};i=K.getJSXElement(t.header,s)}var v=E({className:M("header")},w("header"));return f.createElement("div",v,i)}return null},Ce=function(){var a=K.getJSXElement(t.footer,t),i=E({className:M("footer")},w("footer"));return f.createElement("div",i,a)},d=Q.getOtherProps(t),n=K.reduceKeys(d,P.ARIA_PROPS),l=Se(),c=pe(),y=xe(),D=Ce(),I=E({ref:ne,className:j(t.className,M("root")),style:t.style,id:t.id},Q.getOtherProps(t),w("root"));return f.createElement("div",I,l,y,c,D)}));cn.displayName="Tree";export{cn as T};
