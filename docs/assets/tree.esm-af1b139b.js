import{r as f}from"./index-76fb7be0.js";import{a as Je,O as w,D as k,c as K,I as oe}from"./api.esm-4644ee78.js";import{C as Xe,u as ze}from"./componentbase.esm-1c796d7e.js";import{d as Ve}from"./hooks.esm-d069ba29.js";import{S as Ye}from"./index.esm-88b7529f.js";import{S as qe}from"./index.esm-91c9b7b7.js";import{C as Ge}from"./index.esm-506c6505.js";import{C as Qe}from"./index.esm-4f5bfc3f.js";import{C as Ze}from"./index.esm-2c97deba.js";import{M as We}from"./index.esm-6d25ece0.js";import{R as en}from"./ripple.esm-1f3221bd.js";function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(e[d]=t[d])}return e},Ne.apply(this,arguments)}function Ae(e,l){(l==null||l>e.length)&&(l=e.length);for(var t=0,d=new Array(l);t<l;t++)d[t]=e[t];return d}function nn(e){if(Array.isArray(e))return Ae(e)}function tn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Be(e,l){if(e){if(typeof e=="string")return Ae(e,l);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ae(e,l)}}function rn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B(e){return nn(e)||tn(e)||Be(e)||rn()}function Z(e){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Z(e)}function an(e,l){if(Z(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var d=t.call(e,l||"default");if(Z(d)!=="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(e)}function on(e){var l=an(e,"string");return Z(l)==="symbol"?l:String(l)}function le(e,l,t){return l=on(l),l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}function ln(e){if(Array.isArray(e))return e}function cn(e,l){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var d,a,p,D,y=[],b=!0,h=!1;try{if(p=(t=t.call(e)).next,l===0){if(Object(t)!==t)return;b=!1}else for(;!(b=(d=p.call(t)).done)&&(y.push(d.value),y.length!==l);b=!0);}catch(C){h=!0,a=C}finally{try{if(!b&&t.return!=null&&(D=t.return(),Object(D)!==D))return}finally{if(h)throw a}}return y}}function un(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function je(e,l){return ln(e)||cn(e,l)||Be(e,l)||un()}var dn=function(l,t){var d=f.useRef(!1);return f.useEffect(function(){if(!d.current){d.current=!0;return}return l&&l()},t)},fn={container:"p-tree-container",loadingIcon:"p-tree-loading-icon",loadingOverlay:"p-tree-loading-overlay p-component-overlay",searchIcon:"p-tree-filter-icon",filterContainer:"p-tree-filter-container",input:"p-tree-filter p-inputtext p-component",header:"p-tree-header",footer:"p-tree-footer",root:function(l){var t=l.props;return K("p-tree p-component",{"p-tree-selectable":t.selectionMode,"p-tree-loading":t.loading,"p-disabled":t.disabled})},label:"p-treenode-label",checkboxIcon:"p-checkbox-icon p-c",checkboxContainer:"p-checkbox p-component",checkbox:function(l){var t=l.nodeProps,d=l.checked,a=l.partialChecked;return K("p-checkbox-box",{"p-highlight":d,"p-indeterminate":a,"p-disabled":t.disabled})},nodeIcon:"p-treenode-icon",togglerIcon:"p-tree-toggler-icon",toggler:"p-tree-toggler p-link",droppoint:"p-treenode-droppoint",content:function(l){var t=l.nodeProps,d=l.checked,a=l.selected,p=l.isCheckboxSelectionMode;return K("p-treenode-content",{"p-treenode-selectable":t.selectionMode&&t.node.selectable!==!1,"p-highlight":p()?d:a,"p-highlight-contextmenu":t.contextMenuSelectionKey&&t.contextMenuSelectionKey===t.node.key,"p-disabled":t.disabled})},subgroup:"p-treenode-children",node:function(l){var t=l.isLeaf;return K("p-treenode",{"p-treenode-leaf":t})}},sn=`
@layer primereact {
    .p-tree-container {
        margin: 0;
        padding: 0;
        list-style-type: none;
        overflow: auto;
    }

    .p-treenode-children {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }

    .p-treenode-selectable {
        cursor: pointer;
        user-select: none;
    }

    .p-tree-toggler {
        cursor: pointer;
        user-select: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        overflow: hidden;
        position: relative;
    }

    .p-treenode-leaf > .p-treenode-content .p-tree-toggler {
        visibility: hidden;
    }

    .p-treenode-content {
        display: flex;
        align-items: center;
    }

    .p-tree-filter {
        width: 100%;
    }

    .p-tree-filter-container {
        position: relative;
        display: block;
        width: 100%;
    }

    .p-tree-filter-icon {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
    }

    .p-tree-loading {
        position: relative;
        min-height: 4rem;
    }

    .p-tree .p-tree-loading-overlay {
        position: absolute;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }
}
`,G=Xe.extend({defaultProps:{__TYPE:"Tree",__parentMetadata:null,id:null,value:null,checkboxIcon:null,disabled:!1,selectionMode:null,selectionKeys:null,onSelectionChange:null,contextMenuSelectionKey:null,onContextMenuSelectionChange:null,expandedKeys:null,ariaLabel:null,ariaLabelledBy:null,style:null,className:null,contentStyle:null,contentClassName:null,metaKeySelection:!0,propagateSelectionUp:!0,propagateSelectionDown:!0,loading:!1,loadingIcon:null,expandIcon:null,collapseIcon:null,dragdropScope:null,header:null,footer:null,showHeader:!0,filter:!1,filterIcon:null,filterValue:null,filterBy:"label",filterMode:"lenient",filterPlaceholder:null,filterLocale:void 0,filterTemplate:null,level:0,nodeTemplate:null,togglerTemplate:null,onSelect:null,onUnselect:null,onExpand:null,onCollapse:null,onToggle:null,onDragDrop:null,onContextMenu:null,onFilterValueChange:null,onNodeClick:null,onNodeDoubleClick:null,children:void 0},css:{classes:fn,styles:sn}});function gn(e,l){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=vn(e))||l&&e&&typeof e.length=="number"){t&&(e=t);var d=0,a=function(){};return{s:a,n:function(){return d>=e.length?{done:!0}:{done:!1,value:e[d++]}},e:function(h){throw h},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,D=!1,y;return{s:function(){t=t.call(e)},n:function(){var h=t.next();return p=h.done,h},e:function(h){D=!0,y=h},f:function(){try{!p&&t.return!=null&&t.return()}finally{if(D)throw y}}}}function vn(e,l){if(e){if(typeof e=="string")return Re(e,l);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Re(e,l)}}function Re(e,l){(l==null||l>e.length)&&(l=e.length);for(var t=0,d=new Array(l);t<l;t++)d[t]=e[t];return d}function Fe(e,l){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);l&&(d=d.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,d)}return t}function A(e){for(var l=1;l<arguments.length;l++){var t=arguments[l]!=null?arguments[l]:{};l%2?Fe(Object(t),!0).forEach(function(d){le(e,d,t[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fe(Object(t)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(t,d))})}return e}var Ke=f.memo(function(e){var l=f.useRef(null),t=f.useRef(null),d=f.useRef(!1),a=Ve(),p=e.isNodeLeaf(e.node),D=e.node.label,y=(e.expandedKeys?e.expandedKeys[e.node.key]!==void 0:!1)||e.node.expanded,b=e.ptm,h=e.cx,C=function(n){return b(n,{hostName:e.hostName,context:{selected:P()?!1:F(),expanded:y||!1,checked:P()?O():!1,isLeaf:p}})},W=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=e.expandedKeys?A({},e.expandedKeys):{};i[e.node.key]=!0,e.onToggle({originalEvent:n,value:i,navigateFocusToChild:r}),L(n,!0)},ie=function(n){var r=A({},e.expandedKeys);delete r[e.node.key],e.onToggle({originalEvent:n,value:r}),L(n,!1)},_=function(n){e.disabled||(y?ie(n):W(n,!1),n.preventDefault(),n.stopPropagation())},L=function(n,r){r?e.onExpand&&e.onExpand({originalEvent:n,node:e.node}):e.onCollapse&&e.onCollapse({originalEvent:n,node:e.node})},S=function c(n){var r=U(n);return r?r.nextElementSibling||c(r):null},$=function c(n){var r=n.children[1];if(r){var i=r.children[r.children.length-1];return c(i)}else return n},U=function(n){var r=n.parentElement.parentElement;return k.hasClass(r,"p-treenode")?r:null},H=function(n){n&&n.focus()},R=function(n){e.onClick&&e.onClick({originalEvent:n,node:e.node});var r=n.target.nodeName;if(!(e.disabled||r==="INPUT"||r==="BUTTON"||r==="A"||k.hasClass(n.target,"p-clickable"))){if(e.selectionMode&&e.node.selectable!==!1){var i;if(P()){var g=O();i=e.selectionKeys?A({},e.selectionKeys):{},g?(e.propagateSelectionDown?te(e.node,!1,i):delete i[e.node.key],e.propagateSelectionUp&&e.onPropagateUp&&e.onPropagateUp({originalEvent:n,check:!1,selectionKeys:i}),e.onUnselect&&e.onUnselect({originalEvent:n,node:e.node})):(e.propagateSelectionDown?te(e.node,!0,i):i[e.node.key]={checked:!0},e.propagateSelectionUp&&e.onPropagateUp&&e.onPropagateUp({originalEvent:n,check:!0,selectionKeys:i}),e.onSelect&&e.onSelect({originalEvent:n,node:e.node}))}else{var x=F(),E=d.current?!1:e.metaKeySelection;if(E){var N=n.metaKey||n.ctrlKey;x&&N?(M()?i=null:(i=A({},e.selectionKeys),delete i[e.node.key]),e.onUnselect&&e.onUnselect({originalEvent:n,node:e.node})):(M()?i=e.node.key:me()&&(i=N?e.selectionKeys?A({},e.selectionKeys):{}:{},i[e.node.key]=!0),e.onSelect&&e.onSelect({originalEvent:n,node:e.node}))}else M()?x?(i=null,e.onUnselect&&e.onUnselect({originalEvent:n,node:e.node})):(i=e.node.key,e.onSelect&&e.onSelect({originalEvent:n,node:e.node})):x?(i=A({},e.selectionKeys),delete i[e.node.key],e.onUnselect&&e.onUnselect({originalEvent:n,node:e.node})):(i=e.selectionKeys?A({},e.selectionKeys):{},i[e.node.key]=!0,e.onSelect&&e.onSelect({originalEvent:n,node:e.node}))}e.onSelectionChange&&e.onSelectionChange({originalEvent:n,value:i})}d.current=!1}},J=function(n){e.onDoubleClick&&e.onDoubleClick({originalEvent:n,node:e.node})},I=function(n){e.disabled||(k.clearSelection(),e.onContextMenuSelectionChange&&e.onContextMenuSelectionChange({originalEvent:n,value:e.node.key}),e.onContextMenu&&e.onContextMenu({originalEvent:n,node:e.node}))},T=function(n){if(re(n))switch(n.code){case"Tab":ge();break;case"ArrowDown":ce(n);break;case"ArrowUp":ue(n);break;case"ArrowRight":de(n);break;case"ArrowLeft":fe(n);break;case"Enter":case"NumpadEnter":case"Space":se(n);break}},ce=function(n){var r=n.target.getAttribute("data-pc-section")==="toggler"?n.target.closest('[role="treeitem"]'):n.target,i=r.children[1];if(i)j(r,i.children[0]);else if(r.nextElementSibling)j(r,r.nextElementSibling);else{var g=S(r);g&&j(r,g)}n.preventDefault()},ue=function(n){var r=n.target;if(r.previousElementSibling)j(r,r.previousElementSibling,$(r.previousElementSibling));else{var i=U(r);i&&j(r,i)}n.preventDefault()},de=function(n){p||y||(n.currentTarget.tabIndex=-1,W(n,!0))},fe=function(n){var r=k.findSingle(n.currentTarget,'[data-pc-section="toggler"]');if(e.level===0&&!y)return!1;if(y&&!p)return r.click(),!1;var i=ne(n.currentTarget);i&&j(n.currentTarget,i)},se=function(n){ve(n,d.current),R(n),n.preventDefault()},ge=function(){ee()},ee=function(){var n=k.find(l.current.closest('[data-pc-section="container"]'),'[role="treeitem"]'),r=B(n).some(function(g){return g.getAttribute("aria-selected")==="true"||g.getAttribute("aria-checked")==="true"});if(B(n).forEach(function(g){g.tabIndex=-1}),r){var i=B(n).filter(function(g){return g.getAttribute("aria-selected")==="true"||g.getAttribute("aria-checked")==="true"});i[0].tabIndex=0;return}B(n)[0].tabIndex=0},ve=function(n,r){if(e.selectionMode!==null){var i=B(k.find(t.current.parentElement,'[role="treeitem"]'));n.currentTarget.tabIndex=r===!1?-1:0,i.every(function(g){return g.tabIndex===-1})&&(i[0].tabIndex=0)}},j=function(n,r,i){n.tabIndex="-1",r.tabIndex="0",H(i||r)},ne=function c(n){var r=n.closest("ul").closest("li");if(r){var i=k.findSingle(r,"button");return i&&i.style.visibility!=="hidden"?r:c(n.previousElementSibling)}return null},he=function(n){var r=n.check,i=n.selectionKeys,g=0,x=gn(e.node.children),E;try{for(x.s();!(E=x.n()).done;){var N=E.value;i[N.key]&&i[N.key].checked&&g++}}catch(V){x.e(V)}finally{x.f()}var q=e.node.key,Le=w.findChildrenByKey(e.originalOptions,q),He=Le.some(function(V){return V.key in i}),Ue=Le.every(function(V){return V.key in i&&i[V.key].checked});He&&!Ue?i[q]={checked:!1,partialChecked:!0}:Ue?i[q]={checked:!0,partialChecked:!1}:r?i[q]={checked:!1,partialChecked:!1}:delete i[q],e.propagateSelectionUp&&e.onPropagateUp&&e.onPropagateUp(n)},te=function c(n,r,i){if(r?i[n.key]={checked:!0,partialChecked:!1}:delete i[n.key],n.children&&n.children.length)for(var g=0;g<n.children.length;g++)c(n.children[g],r,i)},F=function(){return e.selectionMode&&e.selectionKeys?M()?e.selectionKeys===e.node.key:e.selectionKeys[e.node.key]!==void 0:!1},O=function(){return(e.selectionKeys?e.selectionKeys[e.node.key]&&e.selectionKeys[e.node.key].checked:!1)||!1},re=function(n){return n.currentTarget&&(n.currentTarget.isSameNode(n.target)||n.currentTarget.isSameNode(n.target.closest('[role="treeitem"]')))},X=function(){return e.selectionKeys?e.selectionKeys[e.node.key]&&e.selectionKeys[e.node.key].partialChecked:!1},M=function(){return e.selectionMode&&e.selectionMode==="single"},me=function(){return e.selectionMode&&e.selectionMode==="multiple"},P=function(){return e.selectionMode&&e.selectionMode==="checkbox"},z=function(){d.current=!0},Y=function(n,r){if(n.preventDefault(),e.node.droppable!==!1&&(k.removeClass(n.target,"p-treenode-droppoint-active"),e.onDropPoint)){var i=r===-1?e.index:e.index+1;e.onDropPoint({originalEvent:n,path:e.path,index:i,position:r})}},ye=function(n){n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&(n.dataTransfer.dropEffect="move",n.preventDefault())},be=function(n){n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&k.addClass(n.target,"p-treenode-droppoint-active")},Se=function(n){n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&k.removeClass(n.target,"p-treenode-droppoint-active")},xe=function(n){e.dragdropScope&&e.node.droppable!==!1&&(k.removeClass(l.current,"p-treenode-dragover"),n.preventDefault(),n.stopPropagation(),e.onDrop&&e.onDrop({originalEvent:n,path:e.path,index:e.index}))},pe=function(n){n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&e.node.droppable!==!1&&(n.dataTransfer.dropEffect="move",n.preventDefault(),n.stopPropagation())},Ce=function(n){n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&e.node.droppable!==!1&&k.addClass(l.current,"p-treenode-dragover")},De=function(n){if(n.dataTransfer.types[1]===e.dragdropScope.toLocaleLowerCase()&&e.node.droppable!==!1){var r=n.currentTarget.getBoundingClientRect();(n.nativeEvent.x>r.left+r.width||n.nativeEvent.x<r.left||n.nativeEvent.y>=Math.floor(r.top+r.height)||n.nativeEvent.y<r.top)&&k.removeClass(l.current,"p-treenode-dragover")}},Ee=function(n){n.dataTransfer.setData("text",e.dragdropScope),n.dataTransfer.setData(e.dragdropScope,e.dragdropScope),e.onDragStart&&e.onDragStart({originalEvent:n,path:e.path,index:e.index})},ke=function(n){e.onDragEnd&&e.onDragEnd({originalEvent:n})},Ie=function(){var n=a({className:h("label")},C("label")),r=f.createElement("span",n,D);if(e.nodeTemplate){var i={onTogglerClick:_,className:"p-treenode-label",element:r,props:e,expanded:y};r=w.getJSXElement(e.nodeTemplate,e.node,i)}return r},Te=function(){if(P()&&e.node.selectable!==!1){var n=O(),r=X(),i=a({className:h("checkboxIcon")},C("checkboxIcon")),g=n?e.checkboxIcon||f.createElement(Ge,i):r?e.checkboxIcon||f.createElement(We,i):null,x=oe.getJSXIcon(g,A({},i),e),E=a({"aria-hidden":!0,className:h("checkboxContainer")},C("checkboxContainer")),N=a({className:h("checkbox",{checked:n,partialChecked:r,nodeProps:e}),role:"checkbox"},C("checkbox"));return f.createElement("div",E,f.createElement("div",N,x))}return null},we=function(){var n=e.node.icon||(y?e.node.expandedIcon:e.node.collapsedIcon);if(n){var r=a({className:K(n,h("nodeIcon"))},C("nodeIcon"));return f.createElement("span",r)}return null},Oe=function(){var n=a({className:h("togglerIcon"),"aria-hidden":!0},C("togglerIcon")),r=y?e.collapseIcon||f.createElement(Qe,n):e.expandIcon||f.createElement(Ze,n),i=oe.getJSXIcon(r,A({},n),{props:e,expanded:y}),g=a({type:"button",className:h("toggler"),tabIndex:-1,"aria-hidden":!0,onClick:_},C("toggler")),x=f.createElement("button",g,i,f.createElement(en,null));if(e.togglerTemplate){var E={onClick:_,containerClassName:"p-tree-toggler p-link",iconClassName:"p-tree-toggler-icon",element:x,props:e,expanded:y};x=w.getJSXElement(e.togglerTemplate,e.node,E)}return x},ae=function(n){if(e.dragdropScope){var r=a({className:h("droppoint"),onDrop:function(g){return Y(g,n)},onDragOver:ye,onDragEnter:be,onDragLeave:Se},C("droppoint"));return f.createElement("li",r)}return null},Me=function(){var n=F(),r=O(),i=Oe(),g=Te(),x=we(),E=Ie(),N=a({ref:l,className:K(e.node.className,h("content",{checked:r,selected:n,nodeProps:e,isCheckboxSelectionMode:P})),style:e.node.style,onClick:R,onDoubleClick:J,onContextMenu:I,onTouchEnd:z,draggable:e.dragdropScope&&e.node.draggable!==!1&&!e.disabled,onDrop:xe,onDragOver:pe,onDragEnter:Ce,onDragLeave:De,onDragStart:Ee,onDragEnd:ke,"data-p-highlight":P()?r:n},C("content"));return f.createElement("div",N,i,g,x,E)},v=function(){var n=a({className:h("subgroup"),role:"group"},C("subgroup"));return w.isNotEmpty(e.node.children)&&y?f.createElement("ul",n,e.node.children.map(function(r,i){return f.createElement(Ke,{key:r.key||r.label,node:r,checkboxIcon:e.checkboxIcon,collapseIcon:e.collapseIcon,contextMenuSelectionKey:e.contextMenuSelectionKey,cx:h,disabled:e.disabled,dragdropScope:e.dragdropScope,expandIcon:e.expandIcon,expandedKeys:e.expandedKeys,index:i,isNodeLeaf:e.isNodeLeaf,last:i===e.node.children.length-1,metaKeySelection:e.metaKeySelection,nodeTemplate:e.nodeTemplate,onClick:e.onClick,onCollapse:e.onCollapse,onContextMenu:e.onContextMenu,onContextMenuSelectionChange:e.onContextMenuSelectionChange,onDoubleClick:e.onDoubleClick,onDragEnd:e.onDragEnd,onDragStart:e.onDragStart,onDrop:e.onDrop,onDropPoint:e.onDropPoint,onExpand:e.onExpand,onPropagateUp:he,onSelect:e.onSelect,onSelectionChange:e.onSelectionChange,onToggle:e.onToggle,onUnselect:e.onUnselect,originalOptions:e.originalOptions,parent:e.node,path:e.path+"-"+i,propagateSelectionDown:e.propagateSelectionDown,propagateSelectionUp:e.propagateSelectionUp,ptm:b,selectionKeys:e.selectionKeys,selectionMode:e.selectionMode,togglerTemplate:e.togglerTemplate})})):null},o=function(){var n=e.disabled||e.index!==0?-1:0,r=F(),i=O(),g=Me(),x=v(),E=a(le(le({ref:t,className:K(e.node.className,h("node",{isLeaf:p})),style:e.node.style,tabIndex:n,role:"treeitem","aria-label":D,"aria-level":e.level,"aria-expanded":y,"aria-checked":i,"aria-setsize":e.node.children?e.node.children.length:0,"aria-posinset":e.index+1,onKeyDown:T},"aria-expanded",y),"aria-selected",i||r),C("node"));return f.createElement("li",E,g,x)},u=o();if(e.dragdropScope&&!e.disabled){var s=ae(-1),m=e.last?ae(1):null;return f.createElement(f.Fragment,null,s,u,m)}return u});Ke.displayName="UITreeNode";function _e(e,l){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);l&&(d=d.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,d)}return t}function Q(e){for(var l=1;l<arguments.length;l++){var t=arguments[l]!=null?arguments[l]:{};l%2?_e(Object(t),!0).forEach(function(d){le(e,d,t[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_e(Object(t)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(t,d))})}return e}function Pe(e,l){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=hn(e))||l&&e&&typeof e.length=="number"){t&&(e=t);var d=0,a=function(){};return{s:a,n:function(){return d>=e.length?{done:!0}:{done:!1,value:e[d++]}},e:function(h){throw h},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,D=!1,y;return{s:function(){t=t.call(e)},n:function(){var h=t.next();return p=h.done,h},e:function(h){D=!0,y=h},f:function(){try{!p&&t.return!=null&&t.return()}finally{if(D)throw y}}}}function hn(e,l){if(e){if(typeof e=="string")return $e(e,l);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $e(e,l)}}function $e(e,l){(l==null||l>e.length)&&(l=e.length);for(var t=0,d=new Array(l);t<l;t++)d[t]=e[t];return d}var mn=f.memo(f.forwardRef(function(e,l){var t=Ve(),d=f.useContext(Je),a=G.getProps(e,d),p=f.useState(""),D=je(p,2),y=D[0],b=D[1],h=f.useState(a.expandedKeys),C=je(h,2),W=C[0],ie=C[1],_=f.useRef(null),L=f.useRef([]),S=f.useRef(null),$=f.useRef(!1),U=a.onFilterValueChange?a.filterValue:y,H=a.onToggle?a.expandedKeys:W,R=f.useRef(null),J=G.setMetaData({props:a,state:{filterValue:U,expandedKeys:H}}),I=J.ptm,T=J.cx,ce=J.isUnstyled;ze(G.css.styles,ce,{name:"tree"});var ue={filter:function(o){return M(o)},reset:function(){return ye()}},de=function(){return a.filter&&L.current?L.current:a.value},fe=function(o){var u=o.originalEvent,s=o.value,m=o.navigateFocusToChild;a.onToggle?a.onToggle({originalEvent:u,value:s}):(m&&(R.current=u),ie(s))};dn(function(){if(R.current){var v=R.current,o=v.target.getAttribute("data-pc-section")==="toggler"?v.target.closest('[role="treeitem"]'):v.target,u=o.children[1],s=u.children[0];o.tabIndex="-1",s.tabIndex="0",s.focus(),R.current=null}},[H]);var se=function(o){S.current={path:o.path,index:o.index}},ge=function(){S.current=null},ee=function v(o){if(Array.isArray(o))return o.map(v);if(o&&Object.getPrototypeOf(o)===Object.prototype){var u={};for(var s in o)s!=="data"?u[s]=v(o[s]):u[s]=o[s];return u}else return o},ve=function(o){if(he(S.current.path,o.path)){var u=ee(a.value),s=S.current.path.split("-");s.pop();var m=O(u,s),c=m?m.children[S.current.index]:u[S.current.index],n=O(u,o.path.split("-"));n.children?n.children.push(c):n.children=[c],m?m.children.splice(S.current.index,1):u.splice(S.current.index,1),a.onDragDrop&&a.onDragDrop({originalEvent:o.originalEvent,value:u,dragNode:c,dropNode:n,dropIndex:o.index})}},j=function(o){if(te(o)){var u=ee(a.value),s=S.current.path.split("-");s.pop();var m=o.path.split("-");m.pop();var c=O(u,s),n=O(u,m),r=c?c.children[S.current.index]:u[S.current.index],i=F(S.current.path,o.path);if(c?c.children.splice(S.current.index,1):u.splice(S.current.index,1),o.position<0){var g=i?S.current.index>o.index?o.index:o.index-1:o.index;n?n.children.splice(g,0,r):u.splice(g,0,r)}else n?n.children.push(r):u.push(r);a.onDragDrop&&a.onDragDrop({originalEvent:o.originalEvent,value:u,dragNode:r,dropNode:n,dropIndex:o.index})}},ne=function(o,u){return o?!(o===u||u.indexOf(o)===0):!1},he=function(o,u){var s=ne(o,u);return s?!(o.indexOf("-")>0&&o.substring(0,o.lastIndexOf("-"))===u):!1},te=function(o){var u=ne(S.current.path,o.path);return u?!(o.position===-1&&F(S.current.path,o.path)&&S.current.index+1===o.index):!1},F=function(o,u){return o.length===1&&u.length===1?!0:o.substring(0,o.lastIndexOf("-"))===u.substring(0,u.lastIndexOf("-"))},O=function v(o,u){if(u.length===0)return null;var s=parseInt(u[0],10),m=o.children?o.children[s]:o[s];return u.length===1?m:(u.shift(),v(m,u))},re=function(o){return o.leaf===!1?!1:!(o.children&&o.children.length)},X=function(o){o.which===13&&o.preventDefault()},M=function(o){$.current=!0;var u=o.target.value;a.onFilterValueChange?a.onFilterValueChange({originalEvent:o,value:u}):b(u)},me=function(o){b(w.isNotEmpty(o)?o:""),P()},P=function(){if($.current){if(w.isEmpty(U))L.current=a.value;else{L.current=[];var o=a.filterBy.split(","),u=U.toLocaleLowerCase(a.filterLocale),s=a.filterMode==="strict",m=Pe(a.value),c;try{for(m.s();!(c=m.n()).done;){var n=c.value,r=Q({},n),i={searchFields:o,filterText:u,isStrictMode:s};(s&&(z(r,i)||Y(r,i))||!s&&(Y(r,i)||z(r,i)))&&L.current.push(r)}}catch(g){m.e(g)}finally{m.f()}}$.current=!1}},z=function(o,u){if(o){var s=!1;if(o.children){var m=B(o.children);o.children=[];var c=Pe(m),n;try{for(c.s();!(n=c.n()).done;){var r=n.value,i=Q({},r);Y(i,u)&&(s=!0,o.children.push(i))}}catch(g){c.e(g)}finally{c.f()}}if(s)return o.expanded=!0,!0}},Y=function(o,u){var s=u.searchFields,m=u.filterText,c=u.isStrictMode,n=!1,r=Pe(s),i;try{for(r.s();!(i=r.n()).done;){var g=i.value,x=String(w.resolveFieldData(o,g)).toLocaleLowerCase(a.filterLocale);x.indexOf(m)>-1&&(n=!0)}}catch(E){r.e(E)}finally{r.f()}return(!n||c&&!re(o))&&(n=z(o,{searchFields:s,filterText:m,isStrictMode:c})||n),n},ye=function(){b("")};f.useImperativeHandle(l,function(){return{props:a,filter:me,getElement:function(){return _.current}}});var be=function(o,u,s){return f.createElement(Ke,{hostName:"Tree",key:o.key||o.label,node:o,level:a.level+1,originalOptions:a.value,index:u,last:s,path:String(u),checkboxIcon:a.checkboxIcon,collapseIcon:a.collapseIcon,contextMenuSelectionKey:a.contextMenuSelectionKey,cx:T,disabled:a.disabled,dragdropScope:a.dragdropScope,expandIcon:a.expandIcon,expandedKeys:H,isNodeLeaf:re,metaKeySelection:a.metaKeySelection,nodeTemplate:a.nodeTemplate,onClick:a.onNodeClick,onCollapse:a.onCollapse,onContextMenu:a.onContextMenu,onContextMenuSelectionChange:a.onContextMenuSelectionChange,onDoubleClick:a.onNodeDoubleClick,onDragEnd:ge,onDragStart:se,onDrop:ve,onDropPoint:j,onExpand:a.onExpand,onSelect:a.onSelect,onSelectionChange:a.onSelectionChange,onToggle:fe,onUnselect:a.onUnselect,propagateSelectionDown:a.propagateSelectionDown,propagateSelectionUp:a.propagateSelectionUp,ptm:I,selectionKeys:a.selectionKeys,selectionMode:a.selectionMode,togglerTemplate:a.togglerTemplate})},Se=function(){a.filter&&($.current=!0,P());var o=de();return o.map(function(u,s){return be(u,s,s===o.length-1)})},xe=function(){if(a.value){var o=Se(),u=t(Q({className:K(a.contentClassName,T("container")),role:"tree","aria-label":a.ariaLabel,"aria-labelledby":a.ariaLabelledBy,style:a.contentStyle},Ie),I("container"));return f.createElement("ul",u,o)}return null},pe=function(){if(a.loading){var o=t({className:T("loadingIcon")},I("loadingIcon")),u=a.loadingIcon||f.createElement(qe,Ne({},o,{spin:!0})),s=oe.getJSXIcon(u,Q({},o),{props:a}),m=t({className:T("loadingOverlay")},I("loadingOverlay"));return f.createElement("div",m,s)}return null},Ce=function(){if(a.filter){var o=w.isNotEmpty(U)?U:"",u=t({className:T("searchIcon")},I("searchIcon")),s=a.filterIcon||f.createElement(Ye,u),m=oe.getJSXIcon(s,Q({},u),{props:a}),c=t({className:T("filterContainer")},I("filterContainer")),n=t({type:"text",value:o,autoComplete:"off",className:T("input"),placeholder:a.filterPlaceholder,"aria-label":a.filterPlaceholder,onKeyDown:X,onChange:M,disabled:a.disabled},I("input")),r=f.createElement("div",c,f.createElement("input",n),m);if(a.filterTemplate){var i={className:"p-tree-filter-container",element:r,filterOptions:ue,filterInputKeyDown:X,filterInputChange:M,filterIconClassName:"p-dropdown-filter-icon",props:a};r=w.getJSXElement(a.filterTemplate,i)}return f.createElement(f.Fragment,null,r)}return null},De=function(){if(a.showHeader){var o=Ce(),u=o;if(a.header){var s={filterContainerClassName:"p-tree-filter-container",filterIconClassName:"p-tree-filter-icon",filterInput:{className:"p-tree-filter p-inputtext p-component",onKeyDown:X,onChange:M},filterElement:o,element:u,props:a};u=w.getJSXElement(a.header,s)}var m=t({className:T("header")},I("header"));return f.createElement("div",m,u)}return null},Ee=function(){var o=w.getJSXElement(a.footer,a),u=t({className:T("footer")},I("footer"));return f.createElement("div",u,o)},ke=G.getOtherProps(a),Ie=w.reduceKeys(ke,k.ARIA_PROPS),Te=pe(),we=xe(),Oe=De(),ae=Ee(),Me=t({ref:_,className:K(a.className,T("root")),style:a.style,id:a.id},G.getOtherProps(a),I("root"));return f.createElement("div",Me,Te,Oe,we,ae)}));mn.displayName="Tree";export{mn as T};
